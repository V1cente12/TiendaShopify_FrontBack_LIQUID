window.slate=window.slate||{},slate.Variants=function(){function t(t){this.$container=t.$container,this.product=t.product,this.singleOptionSelector=t.singleOptionSelector,this.originalSelectorId=t.originalSelectorId,this.enableHistoryState=t.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),this.template=this.originalSelectorId.replace("#ProductSelect-",""),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return t.prototype=_.assignIn({},t.prototype,{_getCurrentOptions:function(){var t=_.map($(this.singleOptionSelector,this.$container),function(t){var e=$(t),i=e.attr("type"),a={};return"radio"===i||"checkbox"===i?!!e[0].checked&&(a.value=e.val(),a.index=e.data("index"),a):(a.value=e.val(),a.index=e.data("index"),a)});return t=_.compact(t)},_getVariantFromOptions:function(){var t=this._getCurrentOptions(),e=this.product.variants;return _.find(e,function(e){return t.every(function(t){return _.isEqual(e[t.index],t.value)})})},_onSelectChange:function(){var t=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:t}),t&&(this.$container.trigger({type:"updateVariant",variant:t}),this._updateMasterSelect(t),this._updateImages(t),this._updatePrice(t),this._updateSKU(t),this.currentVariant=t,this.enableHistoryState&&this._updateHistoryState(t))},_updateImages:function(t){if(0!=$(".color_sw.selected .swatch").length)var e=$(".color_sw.selected .swatch").css("background-image").replace("_small_crop_center","").replace(/(url\(|\)|'|")/gi,"");var i=t.featured_media||{},a=$(".p-sgl__photos-"+this.template+" .swiper-slide-active").attr("data-src")||{};!t.featured_media&&void 0==e||i.src===a&&void 0==e||this.$container.trigger({type:"variantImageChange",variant:t})},_updatePrice:function(t){t.price===this.currentVariant.price&&t.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:t})},_updateSKU:function(t){t.sku!==this.currentVariant.sku&&this.$container.trigger({type:"variantSKUChange",variant:t})},_updateHistoryState:function(t){if(history.replaceState&&t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+t.id;window.history.replaceState({path:e},"",e)}},_updateMasterSelect:function(t){$(this.originalSelectorId,this.$container).val(t.id)}}),t}(),theme.Product=function(){function t(t){var e=this.$container=$(t),i=e.attr("data-section-id");e.attr("data-product-id");if(theme.ktCountdown(t),this.settings={enableHistoryState:e.data("enable-history-state")||!1,imageSize:"720x720",sectionId:i,zoomEnabled:e.data("use-zoom"),thumbEnabled:e.data("use-thumb"),imagesLayout:e.data("images-layout"),ajaxCart:e.data("enable-ajax-cart")||!1},this.selectors={template:"#ProductSection-"+i,addToCart:"#AddToCart-"+i,addToCartText:"#AddToCartText-"+i,comparePrice:"#ComparePrice-"+i,originalPrice:"#ProductPrice-"+i,variesPrice:"#ProductVaries-"+i,unitPrice:"#UnitPrice-"+i,SKU:".variant-sku",originalSelectorId:"#ProductSelect-"+i,productPhotosWrapper:".photos-wrapper-"+i,productPhotos:".p-sgl__photos-"+i,productPhotoImages:".p-sgl__photo--"+i,productThumbsWrapper:".thumbs-wrapper-"+i,productThumbs:".p-sgl__thumbs-"+i,productThumbImages:".p-sgl__thumb--"+i,singleOptionSelector:".sgl-opt-selector-"+i,dataSettings:".datasettings--"+i,dataJs:".datajs--"+i,cartForm:"#cart-form--"+i,progressBar:".progress_bar-"+i,realTime:".realTime-"+i,dateFromTo:".prd_delivery-"+i,shipBL:".shipBL-"+i,storeAvailabilityContainer:"[data-store-avai-container]"},$("#ProductJson-"+i).html()){this.productSingleObject=JSON.parse(document.getElementById("ProductJson-"+i).innerHTML),this.previewImage=_.map(this.productSingleObject.media,"preview_image"),this.modelsObject=JSON.parse(document.getElementById("ModelJson-"+i).innerHTML),this.dataSettings=$(this.selectors.dataSettings).data(),this.dataSettings.progressBar=$(this.selectors.progressBar).length,this.dataSettings.realTime=$(this.selectors.realTime).length,this.dataSettings.dateFromTo=$(this.selectors.dateFromTo).length,this.dataJs=$(this.selectors.dataJs).data(),this.currentMedia="",this.storeAvailabilityContainer=e.find(this.selectors.storeAvailabilityContainer)[0],this.storeAvailabilityContainer&&this._initStoreAvailability();var a=this;"quickview-template"==i?setTimeout(function(){a._initBreakpoints()},400):"masonry"===this.settings.imagesLayout&&theme.window_W>=992?($(a.selectors.productThumbImages).length>=1&&$(a.selectors.productThumbsWrapper+":not(.first)").addClass("has-its"),$(a.selectors.productPhotoImages).length>=1&&$(a.selectors.productPhotosWrapper+":not(.first)").addClass("has-its"),this._initIsotope(),a._initPhotoSwipeFromDOM(),a._initPhotoZoom(!1),$(a.selectors.template+" iframe#resize-info-product").length>0&&(this._initStickySummary(),a._onReSizeInfo())):this._initBreakpoints(),this._stringOverrides(),this._initVariants(),this._initImageSwitch(),this._initSwatch(),this.dataJs.imgspos360.length>0&&this._create360(),this.dataSettings.useMaxheight&&($(a.selectors.template+" iframe#resize-image-product").length>0||$(a.selectors.template+" iframe#resize-image-product-qv").length>0)&&this._onReSizeImages(),this.dataSettings.stickyatc&&this._stickyAddCart(),this._AjaxForm(),theme.gadget.shipTo&&0==theme.gadget.shipToCs&&this._shipTo(this.selectors.shipBL),this.dataSettings.progressBar&&this._stockCountdown().init(this.selectors.progressBar),this.dataSettings.realTime&&this._realTimeVisitor(this.selectors.realTime),this.dataSettings.dateFromTo&&this._dateFromTo(this.selectors.dateFromTo),$(a.selectors.template+" .table-products").length>0&&this._responTableGroup(),this.variants.currentVariant.featured_media&&this.variants.currentVariant.featured_media.preview_image&&(this.currentMedia=this.variants.currentVariant.featured_media.preview_image)}}return t.prototype=_.assignIn({},t.prototype,{_stringOverrides:function(){theme.productStrings=theme.productStrings||{},$.extend(theme.strings,theme.productStrings)},_initStoreAvailability:function(){this.storeAvailability=new theme.StoreAvailability(this.storeAvailabilityContainer)},_initBreakpoints:function(){var t=this,e=theme.window_W;KT.loadScript("swiper",function(i,a){"ok"==a&&($(t.selectors.productThumbImages).length>=1&&t._initThumbnailSlider(),$(t.selectors.productPhotoImages).length>=1&&t._initPhotoSlider(),$(window).on("resize",function(){(e>=576&&theme.window_W<576||e<576&&theme.window_W>=576)&&(t.dataSettings.useThumbVertical&&("object"==typeof t.thumbSlider?t.thumbSlider.changeDirection():$(t.selectors.productThumbImages).length>=1&&t._initThumbnailSlider()),e=theme.window_W)}))})},_initIsotope:function(){var t=this;KT.loadScript("isotope",function(e,i){if("ok"==i){var a=$(t.selectors.productPhotos).isotope({initLayout:!1,itemSelector:".p-sgl__photos-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"}});a.one("arrangeComplete",function(){t._mediaSlider(!1)}),a.isotope()}})},_initSwatch:function(){var t=this;$(t.$container).on("click",".--js-opt",function(e){e.preventDefault();var i=$(this);goto=!0,optionIndex=i.parents(".--js-selector").data("js-opt"),optionValue=i.data("value");var a=t.selectors.template+' .--js-selector[data-js-opt="'+optionIndex+'"]',s=$(a);$(a+" .--js-opt").removeClass("selected"),$(a+' .--js-opt[data-value="'+optionValue+'"]').addClass("selected"),s.find(".fake_select.variant_image").length&&(s.find(".fake_select.variant_image li").removeClass("selected"),s.find('.fake_select.variant_image li[data-value="'+optionValue+'"]').addClass("selected")),$(".fake_select.show").removeClass("show"),s.removeClass("op_pre_select error"),$(t.selectors.cartForm+" #SglOptSelector-"+optionIndex).val(optionValue).trigger("change"),$(".kt-stickyAddCart .swatch-on-grid._"+_snakeCase(optionValue)+" .swatch").trigger("click")})},_initVariants:function(){var t=this,e={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:this.selectors.singleOptionSelector,originalSelectorId:this.selectors.originalSelectorId,product:this.productSingleObject};if(_.filter(theme.function.productOptionStyle,{op_pre_select:!0}).length&&(e.enableHistoryState=!1),this.variants=new slate.Variants(e),this.storeAvailability&&this.variants.currentVariant.available&&this.storeAvailability.updateContent(this.variants.currentVariant.id),this.$container.on("variantChange",this._updateAddToCart.bind(this)),this.$container.on("variantImageChange",this._updateImages.bind(this)),this.$container.on("variantPriceChange",this._updatePrice.bind(this)),this.$container.on("variantSKUChange",this._updateSKU.bind(this)),!this.dataJs.dfVariant){this.dataJs.dfVariant=!0;var i=this.variants.currentVariant.option1,a=0,s="SglOptSelector-0--"+t.settings.sectionId;t.settings.sectionId,t.settings.sectionId;_.forEach(t.productSingleObject.variants,function(e){$.each($("#"+s+" option"),function(s,o){e.option1!==i&&(a=0,i=e.option1),0==a&&$(this).val()==e.option1&&($(this).attr({"data-first-variant":$(t.selectors.originalSelectorId+' option[value="'+e.id+'"]').data("value")}),e.featured_image&&$(this).attr("data-featured-image",e.featured_image.src),a++)})}),$.each($(".sgl-opt-selector-"+t.settings.sectionId),function(e,i){var a=$(this),s=$('.--js-selector[data-js-opt="'+a.data("js-selector")+'"]').first(),o=_.find(theme.function.productOptionStyle,{name:s.data("n-opt")});void 0!==o&&("combobox with_out_variant_image"===o.style||o.color_watched&&"color"!==t.dataSettings.swatchStyle)&&$.each(s.find(".--js-opt"),function(e,i){var r=$(this);if(void 0!==(l=a.find('option[value="'+r.attr("data-value")+'"]').attr("data-featured-image")))if("combobox with_out_variant_image"===o.style){var n=_.last(l.split(".")),l=l.replace("."+n,"_150x150_crop_center."+n);$('[data-n-opt="'+s.data("n-opt")+'"] .--js-opt[data-value="'+r.attr("data-value")+'"]').find("img").attr("data-src",l).addClass("lazyload")}else if(o.color_watched&&"color"!==t.dataSettings.swatchStyle){var n=_.last(l.split(".")),l=l.replace("."+n,"_100x100."+n);$('[data-n-opt="'+s.data("n-opt")+'"] .--js-opt[data-value="'+r.attr("data-value")+'"]').find(".swatch").css({"background-image":'url("'+l+'")',"background-color":"transparent"})}})}),this._initVariant(this.variants.currentVariant),this.$container.on("updateVariant",this._updateVariant.bind(this))}},_AjaxForm:function(){var t=this,e=$(t.selectors.cartForm),i=new Array;$(document).on("change",".group-product .product-form__variants",function(){var t=$(this).parents(".itemGroupProducts"),e=$(this).find("option:selected"),i=parseInt(e.attr("data-price")),a=parseInt(e.attr("data-c-price"));t.find('[name="qty_group"]').attr({"data-id":$(this).val(),"data-price":i,"data-c-price":a}),t.find(".price ins").html(theme.Currency.formatMoney(i,theme.moneyFormat)),i!==a?t.find(".price del").html(theme.Currency.formatMoney(a,theme.moneyFormat)).removeClass("d-none"):t.find(".price del").addClass("d-none")}),e.on("change",function(a){a.preventDefault();var s=e.find('[name="qty_group"]').length,o=t.variants.currentVariant.price,r=t.variants.currentVariant.compare_at_price||0;t.$container.hasClass("product-mix-a-match")&&(o=0,r=0),s!==(i=_.filter($(this).serializeArray(),{name:"qty_group",value:"0"})).length?($.each(e.find('[name="qty_group"]'),function(t,e){var i=$(this).val(),a=parseInt($(this).attr("data-price")),s=parseInt($(this).attr("data-c-price"));o+=a*i,r+=s*i}),$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-money").html(theme.Currency.formatMoney(o,theme.moneyFormat)),o!==r?$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-c-money").html(theme.Currency.formatMoney(r,theme.moneyFormat)).removeClass("d-none"):$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-c-money").addClass("d-none"),e.addClass("may-add"),$(".subtt_gr--"+t.settings.sectionId).show()):(e.removeClass("may-add"),$(".subtt_gr--"+t.settings.sectionId).hide())}),this.settings.ajaxCart?$(document).on("submit",t.selectors.cartForm,function(i){if(i.preventDefault(),$(t.selectors.addToCart).removeClass("loaded").addClass("loading"),$(t.selectors.template).find(".op_pre_select").length>0)return $(t.selectors.template).find(".op_pre_select").addClass("error flash"),setTimeout(function(){$(t.selectors.template).find(".op_pre_select").removeClass("flash")},1e3),$(".btn.loading").removeClass("loading"),!1;if(e.find(".itemGroupProducts").length>0){var a=[];e.find('[name="quantity"]').length>0&&a.push({id:parseInt(e.find('[name="id"]').val()),quantity:parseInt(e.find('[name="quantity"]').val())}),$(t.selectors.cartForm+' .itemGroupProducts [name="qty_group"]').each(function(){a.push({id:parseInt($(this).attr("data-id")),quantity:parseInt($(this).val(),10)||0})}),Shopify.KT_addItems(a)}else Shopify.KT_addItemFromForm("cart-form--"+t.settings.sectionId)}):0==this.settings.ajaxCart&&$(document).on("submit",t.selectors.cartForm,function(i){if($(t.selectors.addToCart).removeClass("loaded").addClass("loading"),$(t.selectors.template).find(".op_pre_select").length>0)return i.preventDefault(),$(t.selectors.template).find(".op_pre_select").addClass("error flash"),setTimeout(function(){$(t.selectors.template).find(".op_pre_select").removeClass("flash")},1e3),$(".btn.loading").removeClass("loading"),!1;if(e.find(".itemGroupProducts").length>0){i.preventDefault();var a=[];e.find('[name="quantity"]').length>0&&a.push({id:parseInt(e.find('[name="id"]').val()),quantity:parseInt(e.find('[name="quantity"]').val())}),$(t.selectors.cartForm+' .itemGroupProducts [name="qty_group"]').each(function(){a.push({id:parseInt($(this).attr("data-id")),quantity:parseInt($(this).val(),10)||0})});var s={type:"POST",url:Shopify.root_url+"/cart/add.js",data:{items:a},dataType:"json",success:function(t){window.location.href=Shopify.root_url+"/cart"},error:function(t){alert("error")}};$.ajax(s)}})},_initVariant:function(t){var e=this,i=new Array,a=new Array,s=(t.option1,e.settings.sectionId,"SglOptSelector-1--"+e.settings.sectionId),o="SglOptSelector-2--"+e.settings.sectionId;$.each($(".sgl-opt-selector-"+e.settings.sectionId+" option"),function(t,e){$(this).text($(this).val())}),$("._soulout").removeClass("_soulout"),$("._unavailable").removeClass("_unavailable"),$(".kt_flash_lable").text(""),_.forEach(e.productSingleObject.variants,function(r){r.option1===t.option1&&(i.push(r.option2),r.option2===t.option2&&a.push(r.option3)),0==r.available&&(r.option1==t.option1&&r.option2==t.option2?$.each($("#"+o+" option"),function(t,i){r.option3==$(this).attr("value")&&$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+r.option3+'"]').addClass("_soulout")}):r.option1==t.option1&&r.option3==t.option3&&$.each($("#"+s+" option"),function(t,i){r.option2==$(this).attr("value")&&$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+r.option2+'"]').addClass("_soulout")}))}),i=$.unique(i),a=$.unique(a),$.each($("#"+s+" option"),function(a,s){if(-1==_.indexOf(i,$(this).attr("value")))$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"]').addClass("_unavailable").find(".kt_flash_lable").text(" - Unavailable");else if("color"!==e.dataSettings.swatchStyle){var o=_.filter(e.productSingleObject.variants,{option1:t.option1,option2:$(this).attr("value"),option3:t.option3});if(void 0!==(n=null!==o[0].featured_image?o[0].featured_image.src:void 0)){var r=_.last(n.split(".")),n=n.replace("."+r,"_100x100_crop_center."+r);$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"] .swatch').css("background-image",'url("'+n+'")')}}}),$.each($("#"+o+" option"),function(i,s){if(-1==_.indexOf(a,$(this).attr("value")))$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"]').addClass("_unavailable").find(".kt_flash_lable").text(" - Unavailable");else if("color"!==e.dataSettings.swatchStyle){var o=_.filter(e.productSingleObject.variants,{id:t.id});if(void 0!==(n=null!==o[0].featured_image?o[0].featured_image.src:void 0)){var r=_.last(n.split(".")),n=n.replace("."+r,"_100x100_crop_center."+r);$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"] .swatch').css("background-image",'url("'+n+'")')}}})},_initImageSwitch:function(){if($(this.selectors.productThumbImages).length){var t=this;$(t.$container).on("click",this.selectors.productThumbImages,function(e){e.preventDefault();var i=$(this),a=t.selectors.template;if(void 0!==i.attr("data-id")&&""!==i.attr("data-id")){var s=_.filter(t.productSingleObject.variants,function(t){if(t.featured_image&&t.featured_image.variant_ids.includes(parseInt(i.attr("data-id"))))return t});if(s.length>1)$(a+' .--js-opt[data-value="'+s[0].option1+'"]').first().trigger("click");else{goto=!1,$(a+" .fake_select li").removeClass("selected"),$(s[0].options).each(function(e,i){var s=$(a+' option[value="'+i+'"]').val(),o=$(a+' option[value="'+i+'"]').parent();$(a+" .fake_select li._"+_handleize(i)).addClass("selected"),i!=t.productSingleObject.title&&!1===$('[data-js-opt="'+e+"--"+t.settings.sectionId+'"]').hasClass("op_pre_select")&&$(a+' label[data-change-label="SglOptSelector-'+e+"--"+t.settings.sectionId+'"] .js-change-label').text(i),s!=o.val()&&o.val(s).trigger("change")});var o=i.attr("data-id");if(1==$(this).parents("div.product-page").data("enable-history-state")&&_.filter(theme.function.productOptionStyle,{op_pre_select:!0}).length<=0){var r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+o;window.history.replaceState({path:r},"",r)}}}})}},_initThumbnailSlider:function(){var t=this,e=$(window).width();if($(t.selectors.productThumbsWrapper+":not(.first)").addClass("has-its"),t.thumbnailOptions)i=t.thumbnailOptions;else{var i=$(t.selectors.productThumbsWrapper).data();i.speed=500,i.watchSlidesVisibility=!0,i.grabCursor=!0,i.watchOverflow=!0,i.initialSlide=initialSlide||0,t.dataSettings.useThumbVertical&&e>=576&&(i.direction="vertical",i.slidesPerView="auto"),t.thumbnailOptions=i}t.thumbSlider=new Swiper(t.selectors.productThumbsWrapper,i)},_destroyThumbnailSlider:function(){this.thumbSlider.destroy(),this.thumbSlider=void 0,this.thumbnailOptions=void 0},_initPhotoSlider:function(){var t=this;$(t.selectors.productPhotosWrapper).addClass("has-its");var e=$(t.selectors.template+" .product-detail-image .btn-group");if(t.itsVisible=!1,t.photoOptions)i=t.photoOptions;else{var i=$(t.selectors.productPhotosWrapper).data();i.speed=500,i.watchSlidesVisibility=!0,i.grabCursor=!0,i.watchOverflow=!0,i.initialSlide=initialSlide||0,i.navigation={nextEl:".sw-btn-next-"+t.settings.sectionId,prevEl:".sw-btn-prev-"+t.settings.sectionId},i.pagination={el:".swiper-pagination",type:"bullets"},!1===$(t.selectors.productThumbsWrapper).hasClass("oneImageThumb")&&(i.thumbs={swiper:t.thumbSlider},theme.function.use_thumb_hidden_on_mb&&theme.window_W<768&&(i.thumbs=null)),t.productSingleObject.media.length>t.productSingleObject.images.length&&(i.simulateTouch=!1),i.on={init:function(i){initialSlide=0;var a=!0,s=$(i.slides[i.activeIndex]);if((s.find("video").length<=0||s.find(".bgndVideo").length<=0)&&(a=!1),t._mediaSlider(a),t._initPhotoSwipeFromDOM(),t._initPhotoZoom(!0),e.length>0){e.css("z-index","-1");for(var o=i.activeIndex;o<i.activeIndex+i.visibleSlidesIndexes.length;o++)if($(i.slides[o]).hasClass("gallery-image"))return e.css("z-index","1"),!0}},slideChange:function(i){if(t.itsVisible||($(t.selectors.productPhotosWrapper).addClass("its-visible"),t.itsVisible=!0),i.thumbs.swiper){var a=i.thumbs.swiper,s=i.activeIndex,o=a.slides.length;s===a.visibleSlidesIndexes[a.visibleSlidesIndexes.length-1]&&s<o&&t.thumbSlider.translateTo(-1*a.snapGrid[a.visibleSlidesIndexes[1]],300,!1),s===a.visibleSlidesIndexes[0]&&0!==s&&t.thumbSlider.translateTo(-1*a.snapGrid[a.visibleSlidesIndexes[0]-1],300,!1)}"function"==typeof jQuery.fn.YTPlayer&&$.each($(t.selectors.productPhotosWrapper+" .bgndVideo"),function(){$(this).YTPPause()}),$.each($(t.selectors.productPhotosWrapper+" video"),function(){$(this).trigger("pause")});var r=$(i.slides[i.activeIndex]);if(r.find(".lazyloading:not(.lazyload)").addClass("lazyload"),r.find(".plyr__video-wrapper video").length>0?$(r).find("video").trigger("play"):r.find(".bgndVideo.mb_YTPlayer").length>0?r.find(".bgndVideo.mb_YTPlayer").YTPPlay():r.find("model-viewer").length>0&&(r.find("model-viewer").trigger("click"),$(t.selectors.template+" .view-in-space").attr("data-shopify-model3d-id",r.find("model-viewer").attr("data-model-id"))),0==theme.is_mobile&&t.settings.zoomEnabled&&"function"==typeof $.fn.zoom&&($(t.selectors.template+" .photos-wrapper .p-sgl__photos-item").trigger("zoom.destroy"),$.each($(t.selectors.template+" .photos-wrapper .gallery-image.swiper-slide-visible"),function(t,e){$(this).zoom({url:$(this).attr("data-src")})})),e.length>0){e.css("z-index","-1");for(var n=i.activeIndex;n<i.activeIndex+i.visibleSlidesIndexes.length;n++)if($(i.slides[n]).hasClass("gallery-image"))return e.css("z-index","1"),!0}}},t.photoOptions=i}t.photoSlider=new Swiper(t.selectors.productPhotosWrapper+":not(.first)",i)},_mediaSlider:function(t){var e=this;return $(e.selectors.productPhotosWrapper+" .plyr__video-wrapper video").length>0||($(e.selectors.productPhotosWrapper+" .bgndVideo.mb_YTPlayer").length>0||($(e.selectors.productPhotosWrapper+" .shopify-model-viewer-ui").length>0||(e.dataSettings.video5&&(KT.loadScript("plyr",function(i,a){"ok"==a&&$.each($(e.selectors.productPhotosWrapper+":not(.first) video"),function(e,i){new Shopify.Plyr($(this),{loop:{active:!0},autoplay:t})})}),t=!1),e.dataSettings.externalVideo&&(KT.loadScript("YTPlayer",function(i,a){"ok"==a&&$.each($(e.selectors.productPhotosWrapper+":not(.first) .bgndVideo"),function(e,i){$(this).YTPlayer({autoPlay:t})})}),t=!1),void(e.dataSettings.model&&(KT.loadScript("shopify-xr",function(t,i){"ok"==i&&(ShopifyXR.addModels(e.modelsObject),ShopifyXR.setupXRElements())}),KT.loadScript("model-viewer-ui",function(t,i){"ok"==i&&$.each($(e.selectors.productPhotosWrapper+":not(.first) model-viewer"),function(t,e){new Shopify.ModelViewerUI(this)})}))))))},_destroyPhotoSlider:function(){this.photoSlider.destroy(),this.photoSlider=void 0,this.photoOptions=void 0},_updateVariant:function(t){var e=t.variant,i=this.dataJs;if($(".prd-mirror-"+this.productSingleObject.id).length>0&&$(".prd-mirror-"+this.productSingleObject.id).val(e.id).trigger("change"),this._initVariant(e),null!=e.featured_media&&void 0!=e.featured_media&&this.dataSettings.gallery&&i.curpos.join(",")!=i.imgspos){if(this.currentMedia.src==e.featured_media.preview_image.src)return;this.currentMedia=e.featured_media.preview_image,this._updateGallery(e)}},_updateAddToCart:function(t){var e=t.variant,i=this,a=i.selectors.template,s=i.settings.sectionId;if(e){this.storeAvailability&&this.storeAvailability.updateContent(t.variant.id),$(a+' .notify-available [name="contact[body]"]').val($(a+' .notify-available [name="contact[body]"]').val().replace(/\(.*\)/g,"("+e.title+")"));var o=$(a+' option[value="'+e.id+'"]');e.inventory_quantity=parseInt(o.data("inventory-quantity")),e.incoming=o.data("incoming"),void 0!==$("#SglOptSelector-0--"+s)&&0==$('[data-js-opt="0--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="0--'+s+'"] .js-change-label').html($("#SglOptSelector-0--"+s).val()),void 0!==$("#SglOptSelector-1--"+s)&&0==$('[data-js-opt="1--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="1--'+s+'"] .js-change-label').html($("#SglOptSelector-1--"+s).val()),void 0!==$("#SglOptSelector-2--"+s)&&0==$('[data-js-opt="2--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="2--'+s+'"] .js-change-label').html($("#SglOptSelector-2--"+s).val()),$(this.selectors.productPrices).removeClass("visibility-hidden").attr("aria-hidden","true"),e.available?(i.dataSettings.useQty&&$(a).find(".item-quantity--"+s).show(),$(a).find(".kt_progress_bar").slideDown(),$(".fbt-item #ip_"+i.productSingleObject.id+":not(:checked)").removeAttr("disabled").trigger("click").attr("disabled","disabled"),$(".notify-"+i.productSingleObject.id).slideUp(),e.inventory_quantity>0&&null!==e.inventory_management&&($("#qty-"+s).attr("max",e.inventory_quantity).trigger("change"),this.dataSettings.progressBar&&($(i.selectors.progressBar).attr("data-remaining_items",e.inventory_quantity),i._stockCountdown().updateMeter(i.selectors.progressBar,e.inventory_quantity,!0)))):($(".notify-"+i.productSingleObject.id).slideDown(),$(".fbt-item #ip_"+i.productSingleObject.id+":checked").removeAttr("disabled").trigger("click").attr("disabled","disabled"),$(a).find(".item-quantity--"+s).hide(),$(a).find(".kt_progress_bar").slideUp()),e.available||e.incoming?($(this.selectors.addToCart).prop("disabled",!1),e.inventory_quantity<=0&&"shopify"===e.inventory_management&&e.incoming||!e.inventory_quantity&&e.incoming?($(".preOrder--"+s).slideDown().find("span").html(e.incoming),$(this.selectors.addToCartText).text(theme.strings.preOrder)):($(".preOrder--"+s).slideUp(),$(this.selectors.addToCartText).text(theme.strings.addToCart)),$(a).find(".shopifyPaymentButton").show()):($(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.soldOut),$(a).find(".shopifyPaymentButton").hide())}else if(1==goto){$("[data-op-pre-select]").each(function(t,e){let i=$(this);i.addClass("op_pre_select"),i.find(".js-change-label").html(theme.productStrings.label_select+i.attr("data-n-opt").toLowerCase())});var r=$("#SglOptSelector-0--"+s).val(),n=r,l=$("#SglOptSelector-0--"+s+' option[value="'+r+'"]').attr("data-first-variant").split(" / ");$(a+" .fake_select li").removeClass("selected"),$(l).each(function(t,e){if(3==l.length&&1==t&&optionIndex=="SglOptSelector-1--"+s&&(e=optionValue),3==l.length&&2==t&&optionIndex=="SglOptSelector-1--"+s){e=_.find(i.productSingleObject.variants,{option1:r,option2:optionValue}).option3}if(0===t&&e!==n)$(a+' .fake_select li[data-value="'+n+'"]').addClass("selected");else{var o=$(a+" option[value='"+e+"']").val(),d=$(a+" option[value='"+e+"']").parent();$(a+' .fake_select li[data-value="'+e+'"]').addClass("selected"),$('label[data-change-label="'+t+"--"+s+'"] .js-change-label').html(e),o!=d.val()&&d.val(o).change()}})}},_updateImages:function(t){var e=this,i=t.variant;if(void 0!=i.featured_media){var a=i.featured_media.preview_image.src;if(void 0!=a&&1==goto){var s=$(this.selectors.productPhotos+' .p-sgl__photos-item[data-src="'+theme.Images.removeProtocol(a)+'"]');slideIndex=s.index(),void 0!==e.photoSlider&&e.photoSlider.slideTo(slideIndex,300,!1)}}},_updateGallery:function(t){var e=this,i=this.dataJs,a=t.featured_media?_.indexOf(_.map(e.previewImage,"src"),t.featured_media.preview_image.src)+1:parseInt($(this.selectors.dataJs).attr("data-vrimgpos")),s=i.imgspos.split(","),o=_.map(e.previewImage,"src"),r="";if($(e.selectors.productThumbImages).length>=1)var n="";var l=$(this.selectors.dataJs).attr("data-vrimgpos");if(-1==_.indexOf(s,a.toString())&&l==a.toString())return!0;var d=[];_.forEach(s,function(t,e){if(parseInt(t)>=a)return parseInt(t)==o.length?(d.push(parseInt(s[e])),d.push(parseInt(t)),!1):(d.push(parseInt(t)),d.push(parseInt(s[e+1])),!1)});var c=!1;if($.unique($.merge(JSON.parse($(this.selectors.dataJs).attr("data-curpos")),d)).length>2&&(c=!0),parseInt(d[0])==parseInt(d[1])&&(c=!0),s.length<=0&&!c)return!0;$(this.selectors.dataJs).attr("data-curpos","["+d[0]+","+d[1]+"]"),$(this.selectors.dataJs).attr("data-vrimgpos",a);_.map(e.previewImage,"width"),_.map(e.previewImage,"height");if($(this.selectors.productThumbs).length>0)var p=theme.Images.imageSize($(this.selectors.productThumbs+" .p-sgl__thumb-image:first").attr("src"))||theme.Images.imageSize($(this.selectors.productThumbs+" .p-sgl__thumb-image:first").attr("data-src"));var h=p||"220x220",m=positionIdx=0,u=!1;if("normal"===theme.function.productImgType)var g=e.productSingleObject.media[0].preview_image,f=g.width,v=g.height;_.forEach(e.productSingleObject.media,function(t,i){if(parseInt(d[1])<i+1)return!0;if(u=!1,parseInt(d[0])<=i+1&&parseInt(d[1])>i+1&&(u=!0),parseInt(d[0])==parseInt(d[1])&&parseInt(d[0]==i+1)&&(u=!0),parseInt(d[0])==parseInt(d[1])&&parseInt(d[0])==i+1&&parseInt(d[1])==o.length&&(u=!0),s[s.length-2]!==s[s.length-1]&&parseInt(d[1])==i+1&&parseInt(d[1])==o.length&&(u=!0),1==u){var a=_.last(t.preview_image.src.split(".")),l=t.preview_image.src.replace("."+a,"_{width}x."+a);if($(e.selectors.productThumbs).length>0)var c=t.preview_image.src.replace("."+a,"_"+p+"."+a);var g=_.filter(e.productSingleObject.variants,function(e){if(e.featured_media&&e.featured_media.preview_image.src==t.preview_image.src)return e}),y="stretch"===theme.function.productImgType?" is-cover":"",b=" one_hundred";0!==m&&(b=" sixties",1!=positionIdx&&2!=positionIdx||(b=" forty",2==positionIdx&&(positionIdx=-1)),positionIdx++);var w="stretch"===theme.function.productImgType?theme.Images.imgFit(t.preview_image.width,t.preview_image.height,f,v):"",S=g.length>0?' title="'+g[0].title+'"':"",C=g.length>0?' data-id="'+g[0].id+'"':"";switch(r+='<div class="swiper-slide p-sgl__photos-item  gallery-'+t.media_type+y+b+'" data-src="'+t.preview_image.src+'">',r+='<div class="p-sgl__photo p-sgl__photo-'+i+" p-sgl__photo--"+e.settings.sectionId+' aspectRatio" data-src="'+t.preview_image.src+'"'+S+C+">","external_video"!==t.media_type&&(r+='<img width="'+t.preview_image.width+'" height="'+t.preview_image.height+'" class="p-sgl__photo-image lazyload mll-lz '+w+'"',r+=' src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="',r+=' data-srcbase="'+t.preview_image.src.replace("."+a,"_"+h+"."+a)+'"',r+=' data-src="'+l+'" data-widths="[335, 550, 720, 900, 1080]"',r+=' data-aspectratio="'+t.preview_image.width/t.preview_image.height+'"',r+=' data-srcfix="'+t.preview_image.src+'"',"image"===t.media_type&&(r+=' data-size="'+t.preview_image.width+"x"+t.preview_image.height+'"'),r+=' data-sizes="auto" style="padding-bottom: '+1/t.aspect_ratio*100+'%">'),t.media_type){case"external_video":r+='<div class="video_content video_content_'+t.id+' embed-responsive embed-responsive-16by9">',r+='<div class="position-absolute" style="top: 0;left: 0;width: 100%;height: 100%;">',r+='<div class="position-relative" style="width: 100%;height: 100%;">',"youtube"==t.host?r+='<div class="bgndVideo" data-property="{videoURL:\'https://www.youtube.com/watch?v='+t.external_id+"', quality:'highres', stopMovieOnBlur: false, containment: 'self', vol: 100}\"></div>":r+='<iframe src="https://player.vimeo.com/video/'+t.external_id+'?autoplay=1&loop=1&title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>',r+="</div>",r+="</div>",r+="</div>";break;case"video":r+='<div class="video_content video_content_'+t.id+'">',r+='<video playsinline="playsinline" controls="controls" loop="loop" preload="none" class="video-element" aria-label="'+e.productSingleObject.title+'" poster="'+t.preview_image.src.replace("."+a,"_720x."+a)+'">',$.each(t.sources,function(t,e){r+='<source src="'+e.url+'" type="'+e.mime_type+'">'}),r+='<img src="'+t.preview_image.src.replace("."+a,"_720x."+a)+'">',r+="</video>",r+="</div>";break;case"model":r+='<div class="video_content model_content model_content_'+t.id+'">',r+='<model-viewer reveal="interaction" toggleable="true" data-model-id="'+t.id+'" src="'+t.sources[0].url+'" camera-controls="true" data-shopify-feature="0.8" alt="'+e.productSingleObject.title+'" poster="'+t.preview_image.src.replace("."+a,"_720x."+a)+'"></model-viewer>',r+="</div>"}if("normal"===theme.function.productImgType&&"masonry"===e.settings.imagesLayout&&(r+='<style media="(min-width: 992px)">.product-page .aspectRatio.p-sgl__photo-'+i+"{padding-bottom:"+1/t.preview_image.aspect_ratio*100+"%}</style>"),r+="</div></div>",$(e.selectors.productThumbs).length>0){switch(n+='<div class="swiper-slide p-sgl__thumbs-item gallery-'+t.media_type+y+'" data-src="'+t.preview_image.src+'">',n+='<div class="p-sgl__thumb p-sgl__thumb--'+e.settings.sectionId+' aspectRatio" data-src="'+t.preview_image.src+'"'+S+C+">",n+='<img class="p-sgl__thumb-image lazyload mll-lz '+w+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+c+'" alt="'+e.productSingleObject.title+'" style="padding-bottom: '+1/t.aspect_ratio*100+'%">',t.media_type){case"external_video":case"video":n+='<div class="btn play"><i class="fkt-play m-0i" aria-hidden="true"></i></div>';break;case"model":n+='<div class="btn play p-0i"><svg aria-hidden="true" focusable="false" role="presentation" class="icon icon--full-color icon-3d-badge-full-color" viewBox="0 0 26 26"><path class="icon-3d-badge-full-color-element" d="M19.13 8.28L14 5.32a2 2 0 0 0-2 0l-5.12 3a2 2 0 0 0-1 1.76V16a2 2 0 0 0 1 1.76l5.12 3a2 2 0 0 0 2 0l5.12-3a2 2 0 0 0 1-1.76v-6a2 2 0 0 0-.99-1.72zm-6.4 11.1l-5.12-3a.53.53 0 0 1-.26-.38v-6a.53.53 0 0 1 .27-.46l5.12-3a.53.53 0 0 1 .53 0l5.12 3-4.72 2.68a1.33 1.33 0 0 0-.67 1.2v6a.53.53 0 0 1-.26 0z" opacity=".6" style="isolation:isolate"></path></svg></div>'}n+="</div></div>"}m++}});e.selectors.template;if("masonry"===e.settings.imagesLayout&&theme.window_W>=992)$(e.selectors.productPhotos+" .p-sgl__photos-item").each(function(t,i){$(e.selectors.productPhotos).isotope("remove",this),t+1==$(e.selectors.productPhotos+" .p-sgl__photos-item").length&&($(e.selectors.productPhotos).append(r),$.each($(e.selectors.productPhotos+" .p-sgl__photos-item"),function(t,i){void 0==$(this).attr("style")&&$(e.selectors.productPhotos).isotope("appended",$(this)).isotope("layout"),t+1==$(e.selectors.productPhotos+" .p-sgl__photos-item").length&&e._mediaSlider(!1)}))});else{var y=$("#product-thumb-slide--"+e.settings.sectionId),b=$("#product-photo-slide--"+e.settings.sectionId);y.data("vertical")&&(m>1?(y.removeClass("oneImageThumb"),b.removeClass("oneImagePhoto")):(y.addClass("oneImageThumb"),b.addClass("oneImagePhoto"))),"object"==typeof e.thumbSlider&&(e.thumbSlider.removeAllSlides(),e.thumbSlider.appendSlide(n)),e.photoSlider.removeAllSlides(),e.photoSlider.appendSlide(r),e._mediaSlider(!1)}},_updatePrice:function(t){var e=t.variant,i=this;i.selectors.template;if($(this.selectors.originalPrice).html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),$(this.selectors.originalPrice.replace("#",".")).html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),e.compare_at_price>e.price?($(this.selectors.comparePrice).html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)).removeClass("d-none"),$(this.selectors.comparePrice.replace("#",".")).html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)).removeClass("d-none"),$(this.selectors.originalPriceWrapper).addClass(this.selectors.saleClasses),$(this.selectors.saleLabel).removeClass("d-none")):($(this.selectors.comparePrice).addClass("d-none"),$(this.selectors.comparePrice.replace("#",".")).addClass("d-none"),$(this.selectors.saleLabel).addClass("d-none"),$(this.selectors.originalPriceWrapper).removeClass(this.selectors.saleClasses)),e.unit_price){$(this.selectors.unitPrice).show().removeClass("d-none"),$(this.selectors.unitPrice.replace("#",".")).show().removeClass("d-none");var a=e.unit_price_measurement.quantity_value+e.unit_price_measurement.quantity_unit;a+=' (<span class="unit_price">'+theme.Currency.formatMoney(e.unit_price,theme.moneyFormat)+"</span> / ",a+='<span class="base_unit">',e.unit_price_measurement&&(1!=e.unit_price_measurement.reference_value&&(a+=e.unit_price_measurement.reference_value),a+=e.unit_price_measurement.reference_unit),a+="</span>",a+="</span>)",$(this.selectors.unitPrice).html(a),$(this.selectors.unitPrice.replace("#",".")).html(a)}else $(this.selectors.unitPrice).hide().addClass("d-none"),$(this.selectors.unitPrice.replace("#",".")).hide().addClass("d-none");$(".fbt-item .ktlz-form-pid-"+i.productSingleObject.id).length>0&&($(".fbt-item .ktlz-form-pid-"+i.productSingleObject.id+" ins").html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),e.compare_at_price>e.price?$(".fbt-item .ktlz-form-pid-"+i.productSingleObject.id+" del").html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)):$(".fbt-item .ktlz-form-pid-"+i.productSingleObject.id+" del").html("")),1==theme.function.multiCurrency&&null!==localStorageCurrency&&localStorageCurrency!==shopCry&&Kt_currency.convertAll(shopCry,localStorageCurrency,"span.money")},_updateSKU:function(t){var e=t.variant;$(this.selectors.SKU).html(e.sku)},_onReSizeImages:function(){function t(){$(window).width()>=768?("#ProductSection-product-template"==e.selectors.template&&e.dataSettings.useMaxheight&&$(e.selectors.template+" .content-summary").css("max-height",i.height()),"#ProductSection-quickview-template"==e.selectors.template&&$("#md_qvModal .content-summary").css("max-height",i.height())):$(".content-summary").css("max-height","")}var e=this,i=$(e.selectors.template+" iframe#resize-image-product");"#ProductSection-quickview-template"==e.selectors.template&&(i=$(e.selectors.template+" iframe#resize-image-product-qv")),t(),i.each(function(){$(this.contentWindow||this).resize($.throttle(150,t))})},_initPhotoZoom:function(t){var e=this;0==theme.is_mobile&&e.settings.zoomEnabled&&KT.loadScript("zoom",function(i,a){if("ok"==a){var s=e.selectors.template+" .photos-wrapper .gallery-image";t&&(s=e.selectors.template+" .photos-wrapper .gallery-image.swiper-slide-visible"),$.each($(s),function(t,e){var i=$(this);i.zoom({url:i.attr("data-src")})}),$(e.$container).on("click","img.zoomImg",function(t){t.preventDefault(),$(e.selectors.template+' img[data-srcfix="'+theme.Images.removeProtocol(t.target.currentSrc)+'"]').trigger("click")})}})},_initPhotoSwipeFromDOM:function(){var t=this;t.dataSettings.wide&&KT.loadScript("photo-swipe",function(e,i){"ok"==i&&theme.initPhotoSwipeFromDOM(t.selectors.template+" .photos-wrapper",".p-sgl__photo","IMG",function(e,i){if(0!==$(t.selectors.template+" .photos-wrapper .p-sgl__photos-item").length&&void 0!==t.photoSlider){var a=$(t.selectors.template+" .photos-wrapper").find('.p-sgl__photos-item[data-src~="'+i.src+'"]');if(0!==$(a).length){var s=$(a).closest(".p-sgl__photos-item").index();t.photoSlider.slideTo(s,300)}}})})},_stickyAddCart:function(){var t=this;$(document).on("click",".kt-stickyAddCart .toggle, .kt-stickyAddCart .close",function(){$("#form_variants").slideToggle(),$("body").toggleClass("show-stickyAddCart"),theme.window_W>=768||$(".kt-stickyAddCart .infor").slideToggle()});$(window).scroll($.throttle(100,function(){var e=$(window).scrollTop(),i=$(".kt-stickyAddCart");if(e>$(t.selectors.addToCart).offset().top+60&&!1===$(".kt-stickyAddCart").hasClass("fixed")){var a=$('header[data-header-sticky="true"] .content_header').outerHeight()||0;i.addClass("fixed"),$(".kt-stickyAddCart .position-fixed").hasClass("top")&&(theme.window_W<767&&(a=0),$(".kt-stickyAddCart .position-fixed.top").css("top",a+"px"))}else e<=$(t.selectors.addToCart).offset().top&&$(".kt-stickyAddCart").hasClass("fixed")&&(i.removeClass("fixed"),$(".show-stickyAddCart #form_variants").slideToggle(),$("body").removeClass("show-stickyAddCart"),$(".kt-stickyAddCart .position-fixed").hasClass("top")&&$(".kt-stickyAddCart .position-fixed.top").css("top","-100%"))}))},_initStickySummary:function(){function t(){thissummaryh=$(".summary.entry-summary").outerHeight(),void 0!==e&&$(window).width()>=992&&e.hasClass("fixed")&&e.removeClass("fixed maxscroll").removeAttr("style")}var e=$(".summary.entry-summary"),i=e.width(),a=(e.offset(),$(window).scrollTop()),s=$(".product-images").height(),o=a+e[0].getBoundingClientRect().top+e.height(),r=a+e[0].getBoundingClientRect().top+(e.outerHeight()-e.height());$(window).scroll($.throttle(90,function(){var t=$(window);if(!(theme.window_W<992)){a=t.scrollTop(),s=$(".product-images").height();var n=e.outerHeight();if(s>a+n-r)a+theme.window_H-200>=o&&0==e.hasClass("fixed")?(l=$('header[data-header-sticky="true"]').length>0?85:20,e.not(".fixed").addClass("fixed").removeClass("maxscroll").css({top:l+"px",width:i+"px",transform:"none"})):a+theme.window_H-200<o&&e.hasClass("fixed")&&e.removeClass("fixed maxscroll").removeAttr("style");else if(0==e.hasClass("maxscroll")&&s<=n+e.offset().top){var l=s-n-10;e.addClass("maxscroll").removeClass("fixed").removeAttr("style").css({transform:"translate3d(0px,"+l+"px,0px)","-webkit-transform":"translate3d(0px,"+l+"px,0px)","moz-transform":"translate3d(0px,"+l+"px,0px)","-ms-transform":"translate3d(0px,"+l+"px,0px)","-o-transform":"translate3d(0px,"+l+"px,0px)"})}}}));$(this.selectors.template+" iframe#resize-info-product").each(function(){$(this.contentWindow||this).resize($.throttle(150,t))})},_onReSizeInfo:function(t){function e(){var t=$(window);if(!(theme.window_W<992))if(r=t.scrollTop(),n=$(".product-images").height(),p=a.outerHeight(),n>r+p-c)if(r+theme.window_H-200>=d&&0==$(".summary.entry-summary").hasClass("fixed")){e=$('header[data-header-sticky="true"]').length>0?85:20;a.not(".fixed").addClass("fixed").removeClass("maxscroll").css({top:e+"px",width:s+"px",transform:"none"})}else r+theme.window_H-200<d&&a.hasClass("fixed")&&a.removeClass("fixed maxscroll").removeAttr("style");else if(0==a.hasClass("maxscroll")&&n<=p+a.offset().top){var e=n-p-10;a.addClass("maxscroll").removeClass("fixed").removeAttr("style").css({transform:"translate3d(0px,"+e+"px,0px)","-webkit-transform":"translate3d(0px,"+e+"px,0px)","moz-transform":"translate3d(0px,"+e+"px,0px)","-ms-transform":"translate3d(0px,"+e+"px,0px)","-o-transform":"translate3d(0px,"+e+"px,0px)"})}}function i(){p=$(".summary.entry-summary").outerHeight(),void 0!==a&&$(window).width()>=992&&a.hasClass("fixed")&&a.removeClass("fixed maxscroll").removeAttr("style")}var a=$(".summary.entry-summary"),s=a.width(),o=a.offset(),r=$(window).scrollTop(),n=$(".product-images").height(),l=a.outerHeight()-a.height(),d=r+o.top+l+a.height(),c=r+o.top+l,p=a.outerHeight();e(),$(window).scroll($.throttle(90,e));$(this.selectors.template+" iframe#resize-info-product").each(function(){$(this.contentWindow||this).resize($.throttle(150,i))})},_create360:function(t){var e=this,i=this.dataJs.imgspos360.split(","),a=_.map(e.previewImage,"src"),s=_.map(e.previewImage,"width"),o=_.map(e.previewImage,"height"),r=[];_.forEach(a,function(t,e){if(parseInt(i[0])<=e+1&&e+1<parseInt(i[1])){var a=t;r.push(a)}}),KT.loadScript("threesixty",function(t,a){"ok"==a&&(theme.imgs360(r,i,s[i[0]],o[i[0]],e.id),$(".kt_open360_"+e.id).removeClass("d-none"))})},_shipTo:function(){function t(t){sessionStorage.setItem("kt-shipping-rates",t);var e="",t=JSON.parse(t.replace("\x3c!-- BEGIN template --\x3e\x3c!-- cart.listShipping --\x3e","").replace("\x3c!-- END template --\x3e",""));$(".shipByLocation .flag").html('<img width="26" height="19.5" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+t.flag+'" alt="'+t.code+'">'),t.shipping_rates=JSON.parse(t.shipping_rates),$.each(t.shipping_rates,function(i,a){var s=i<t.shipping_rates.length-1?' class="mb-1"':"";e+="<p"+s+">",e+='<i class="fkt-check pr-2"></i>',void 0!==a.min_order_subtotal&&null!==a.min_order_subtotal?(e+=a.name+" "+theme.function.textInListShipping+" "+a.min_order_subtotal,null!==a.max_order_subtotal&&(e+=" - "+a.max_order_subtotal)):void 0!==a.weight_low&&null!==a.weight_low?(e+=a.name+" "+theme.function.textInListShipping+" "+a.weight_low+" kg",null!==a.weight_high&&(e+=" - "+a.weight_high+" kg")):e+=a.name,e+='. <span style="color: #F44336">+ '+a.price+"</span>",e+="</p>"}),$(".shipByLocation .list").html(e),void 0!==Shopify.currency&&shopCry!==Shopify.currency.active&&KT.loadScript("shopify-currency",function(t,e){"ok"==e&&KT.loadScript("shipping",function(t,e){"ok"==e&&Kt_currency.convertAll(shopCry,Shopify.currency.active,".shipByLocation span.money")})}),$(".shipByLocation").slideDown(),$(".shipping_rates .shipByLocation").length<=0||$(".shipping_rates").show()}function e(e){$.ajax({type:"get",url:Shopify.root_url+"/cart?view=listShipping&q="+e}).done(function(e){""!=e&&t(e)}).fail(function(){console.log("error checkLocation")}).always(function(t){})}localStorage.getItem("kt-location");if(null!==localStorage.getItem("kt-location")){$(".shipByLocation .name_country").html(JSON.parse(localStorage.getItem("kt-location")).name);var i=sessionStorage.getItem("kt-shipping-rates");null!==i?t(i):e(JSON.parse(localStorage.getItem("kt-location")).code)}else $.ajax({type:"get",url:"https://api.teathemes.net/currency"}).done(function(t){var i={name:t.registered_country.names.en,code:t.countryCode};localStorage.setItem("kt-location",JSON.stringify(i)),e(t.countryCode),$(".shipByLocation .name_country").html(t.registered_country.names.en)}).fail(function(){console.log("error getLocation")}).always(function(t){})},_stockCountdown:function(){function t(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function e(t){i(t,p),s=setTimeout(function(){i(t)},6e4*l),o=setInterval(function(){i(t)},6e3*n)}function i(e,i,s){var n=$(e);if(void 0==(i=i)&&(i=p-1,p<r&&(p=i,i=t(d,c))),i>c)return!1;var l=theme.productStrings.stockMessage[0]+' <span class="count">'+i+"</span> "+theme.productStrings.stockMessage[1];n.addClass("items-count").find("p").html(l);var h=h||n.data().stockBgProcess;n.find(".count").css({"background-color":h,color:"#fff"}),setTimeout(function(){n.find(".count").css({"background-color":"#fff",color:h})},400),n.find(".count").text(i);var m=100*i/a;i<10&&n.find(".progress").addClass("less-than-ten"),setTimeout(function(){n.find(".progress-bar").css("width",m+"%").attr("aria-valuenow",m)},300),p=i,(c=i)<=d&&clearTimeout(o)}var a=70,s=null,o=null,r=1,n=1.7,l=.17,d=0,c=0,p=0,h=0;return{init:function(i){var a=$(i).data();d=parseInt(a.stockFrom),c=parseInt(a.stockTo),p=parseInt(a.remainingItems)||t(d,c),h=a.stockBgProcess,e(i)},progressbar:e,updateMeter:i}},_realTimeVisitor:function(t){var e=$(t);$(function(t){var i=e.find(".counter_real_time").attr("data-counter-max"),a=1,s=i;a=Math.ceil(a),s=Math.floor(s);var o=Math.floor(Math.random()*(s-a+1))+a,r=["1","2","4","3","6","10","-1","-3","-2","-4","-6"],n="",l="",d=["10","20","15"],n="",l="",c="";setInterval(function(){if(n=Math.floor(Math.random()*r.length),l=r[n],1>=(o=parseInt(o)+parseInt(l))){c=Math.floor(Math.random()*d.length);o+=d[c]}(o<1||o>i)&&(o=Math.floor(Math.random()*(s-a+1))+a),e.find("#number_counter>span").html(parseInt(o)),e.show()},parseInt(e.find(".counter_real_time").attr("data-interval-time")))})},_dateFromTo:function(t){var e=$(t);KT.loadScript("moment",function(t,i){"ok"==i&&function(){var t=theme.function.product_delivery,i=parseInt(t.fromDate),a=parseInt(t.toDate);KT.loadScript("momentlocale",function(s,o){if("ok"==o){moment.locale(shopLocale);var r=moment().add(i,"days");if(t.offSaturday&&"6"==r.format("d")&&(i++,r=moment().add(i,"days")),t.offSunday&&"0"==r.format("d")&&(i+=2,r=moment().add(i,"days")),a>i){var n=moment().add(a,"days");t.offSaturday&&"6"==n.format("d")&&(a++,n=moment().add(a,"days")),t.offSunday&&"0"==n.format("d")&&(a+=2,n=moment().add(a,"days"))}if($.each(t.offDays,function(t,e){var s=e.split("/")[1],o=e.split("/")[0],l=e.split("/")[2];r.format("DD")===s&&r.format("MM")===o&&("****"!==r.format("YYYY")&&r.format("YYYY")!==l||(i++,r=moment().add(i,"days"))),a>i&&n.format("DD")===s&&n.format("MM")===o&&("****"!==n.format("YYYY")&&n.format("YYYY")!==l||(a++,n=moment().add(a,"days")))}),$(".product_delivery .timeDay").length>0){var l=$(".product_delivery .timeDay");e.append("<style>span.timeDay{display: inline-block}.timeDay .block{display: inline-block}.timeDay span.label{padding: 0 4px}</style>"),KT.loadScript("countdown",function(t,e){if("ok"==e){var i=moment().endOf("day").format(),a='<div class="block cdhrs"><span class="flip-top">00</span><span class="label">'+theme.strings.cdhrs+"</span></div>";a+='<div class="block cdmins"><span class="flip-top">00</span><span class="label">'+theme.strings.cdmin+"</span></div>",l.html(a);var s=l.find(".cdhrs .flip-top"),o=l.find(".cdmins .flip-top");l.find(".cdsecs .flip-top"),l.countdown(moment(i).toDate()).on("update.countdown",function(t){s.text(t.strftime("%H")),o.text(t.strftime("%M"))}).on("finish.countdown",function(t){l.parent().remove()})}})}if(e.find(".fromDate").html(r.format(theme.deliveryFormatDate)),a>i&&(e.find(".toDate i").html(n.format(theme.deliveryFormatDate)),e.find(".toDate").removeClass("d-none")),e.slideDown(),e.parents(".shipping_rates").length<=0)return;e.parents(".shipping_rates").show()}})}()})},_responTableGroup:function(){$(this.selectors.template+" .table-products").scroll($.throttle(100,function(){var t=$(this);$(this).scrollLeft()>=80&&0==$(this).hasClass("mini")?t.addClass("mini"):$(this).scrollLeft()<80&&$(this).hasClass("mini")&&t.removeClass("mini")}))},onUnload:function(){this.$container.off(),this.$container.find(".kt_countdown").off()}}),t}(),theme.StoreAvailability=function(){function t(t){this.$container=$(t),this.$data=this.$container.data(),this.productTitle=this.$data.productTitle,this.hasOnlyDefaultVariant=this.$data.hasOnlyDefaultVariant}var e={modal:"[data-store-availability-modal-open]",modalProductTitle:"[data-store-avai-modal-product-title]",modalVariantTitle:"[data-store-avai-modal-variant-title]"},i={hidden:"d-none"};return t.prototype=Object.assign({},t.prototype,{updateContent:function(t){var a=this.$data.baseUrl+"variants/"+t+"/?section_id=store-availability",s=this;$.ajax({url:a,type:"GET",dataType:"html",success:function(a){a=a.split("\x3c!--lz_sc--\x3e")[1].split("\x3c!-- modal --\x3e"),s.$container.html(a[0]);var o=$("#store-avai-modal-"+t);if(o.length<=0){$(".content_for_extension").append(a[1]);if((o=$("#store-avai-modal-"+t)).find(e.modalProductTitle).text(s.productTitle),s.hasOnlyDefaultVariant){o.find(e.modalVariantTitle).addClass(i.hidden)}}}})}}),t}();