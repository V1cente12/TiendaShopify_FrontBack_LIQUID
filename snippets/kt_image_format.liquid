{%- unless cache -%}
  {%-if root == blank -%}{%-assign src_ = src | img_url: '23x'-%}
  {%-if src_ contains '.jpg' -%}{%-assign src__= src | img_url: size, format: 'pjpg' %}{%-else-%}{%-assign src__ = src | img_url: size %}{%-endif-%}
  {%-elsif root == 'asset'-%}{%-assign src_ = src | asset_img_url: '23x'-%}
  {%-if src_ contains '.jpg' -%}{%-assign src__= src | asset_img_url: size, format: 'pjpg' %}{%-else-%}{%-assign src__ = src | asset_img_url: size %}{%-endif-%}
  {%-endif-%}
{%- else -%}
  {%-if root == blank -%}{%-assign src_ = src | img_url: '23x'-%}
  {%-if src_ contains '.jpg' -%}{%-assign src__= src | img_url: size, format: 'pjpg'| split:'?' | first %}{%-else-%}{%-assign src__ = src | img_url: size | split:'?' | first %}{%-endif-%}
  {%-elsif root == 'asset'-%}{%-assign src_ = src | asset_img_url: '23x'-%}
  {%-if src_ contains '.jpg' -%}{%-assign src__= src | asset_img_url: size, format: 'pjpg'| split:'?' | first %}{%-else-%}{%-assign src__ = src | asset_img_url: size| split:'?' | first %}{%-endif-%}
  {%-endif-%}
{%- endunless -%}
{{src__}}