var OMGFBGetAddCartForms='form[action*="/cart/add"]:not(.ssw-hide)',OMGFBGetCheckoutForm=(t="",e="")=>[`${t} form[action="/cart"]${e}`,`${t} form#cart${e}`,`${t} form#checkout_submit${e}`,`${t} form[action="/checkout"]${e}`].join(",");function OMGFBGetAddCartButton(t){const e=t,o=["#buy_it_now","#AddToCart","#add-to-cart",".btn-cart",".btn-addCart","#add",".add","#add_product","#product-add-to-cart",".button--add-to-cart","#button-cart",".addtocart-js",".product-form__cart-submit",".btn--add-to-cart",".product-single__add-btn",".js-product-add",".add_to_cart",".ProductForm__AddToCart",".addtocart-button-active",".product-form__submit"],n=["#addToCartCopy"],a=["Buy","Purchase","Add","Order","Comprar"],i=["button","a","div","span"];let s,c,r,d,l;for(c=0,r=n.length;c<r&&(s=e.find(n[c]),!s.length);c++);if(!s.length)for(c=0,r=o.length;c<r&&(s=e.find(o[c]+'[type="submit"]'),!s.length);c++);if(s.length||(s=e.find('input[type="submit"], button[type="submit"]')),!s.length)for(c=0,r=o.length;c<r&&(s=e.find(o[c]),!s.length);c++);if(!s.length)t:for(d=0,l=i.length;d<l;d++)for(c=0,r=a.length;c<r;c++)if(s=e.find(`${i[d]}:contains("${a[c]}")`).not(':contains("login")'),s.length||(s=e.find(`${i[d]}:contains("${a[c].toUpperCase()}")`).not(':contains("login")'),s.length||(s=e.find(`${i[d]}:contains("${a[c].toLowerCase()}")`).not(':contains("login")'))),s.length)break t;return s}window.OMGFBJquery=null;let windowWidth=0,checkOldVersion=!1,isClickLoadingCustom=!1,checkCartAbandoned={},tokenId=localStorage.getItem(window.shopFbChat+"_omgfbc_tokenId");if(tokenId||(tokenId=makeid(24),localStorage.setItem(window.shopFbChat+"_omgfbc_tokenId",tokenId)),abandonedCartUpdateAttributeOneTime=!1,!window.OMGChatIsLiquidFile){const t=document.getElementsByTagName("head")[0];let e=document.createElement("link");e.href=`${window.rootLinkChat}client/omg-facebook-chat_style.css?v=${Math.floor(Date.now()/1e3)}`,e.type="text/css",e.rel="stylesheet",t.appendChild(e)}if(void 0===OMGFBGetAddCartForms){checkOldVersion=!0;const t=(new Date).getTime();getScript({source:window.rootLinkChat+"client/element.js?v="+t,callback:function(){checkOldVersion=!1,createFacebookChat(window.OMGFBJquery)}})}let uniqueRef="";const refAddCartWidget=`${tokenId}_${window.shopFbChat}_add-cart-widget_${makeid(24)}`,refWelcomePopupWidget=`${tokenId}_${window.shopFbChat}_welcome-popup-widget_${makeid(24)}`,refCustomerChat=`${tokenId}_${window.shopFbChat}_customer-chat_${makeid(24)}`;let isNotAvailableWork=!1,isAvailableWorkContact=!1;function makeid(t){for(var e="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=o.length,a=0;a<t;a++)e+=o.charAt(Math.floor(Math.random()*n));return e}window.OMGFBisGetPopup="";var isDefaultMode=!1,appIdFB=facebookChatSettings.appIdFB?facebookChatSettings.appIdFB:"1919748194980000",addCartWidgetSettings={},welcomePopupWidgetSettings={},contactInfoSettings={};function removeConfigAppBeforeAppend(){const t=document.getElementById("fb-root");t&&t.parentNode.removeChild(t),document.querySelectorAll(".fb-customerchat").forEach((function(t){t&&t.remove()}));const e=document.getElementsByTagName("script");for(let t=e.length;t>=0;t--)e[t]&&null!=e[t].getAttribute("src")&&e[t].getAttribute("src").indexOf("xfbml.customerchat.js")>-1&&e[t].parentNode.removeChild(e[t])}async function createFacebookChat(t){removeConfigAppBeforeAppend(),isDefaultMode="default"===facebookChatSettings.display_mode,appIdFB=facebookChatSettings.appIdFB?facebookChatSettings.appIdFB:"1919748194980000";for(let t of["page_info","specific_pages","exclude_pages","working_time","custom_css","weekdays","abTests"])facebookChatSettings[t]&&"string"==typeof facebookChatSettings[t]&&(facebookChatSettings[t]=JSON.parse(facebookChatSettings[t]));if(addCartWidgetSettings=facebookChatSettings.addCartWidget,welcomePopupWidgetSettings=facebookChatSettings.welcomePopupWidget,uniqueRef="product"===__st.p?`OMGFBChat_${tokenId}_${makeid(24)}_${__st.rid}`:`OMGFBChat_${tokenId}_${makeid(24)}`,window.OMGFBJquery=t,!Number(facebookChatSettings.app_status)||checkOldVersion)return;if(windowWidth=document.body.clientWidth,window.location.href.indexOf("OMGFB_Chat")>-1){const t=window.location.search,e=new URLSearchParams(t),o=e.get("type"),n=e.get("redirect");if(sessionStorage.setItem(window.shopFbChat+"_omgfbc_revenue_from_app",o),"checkout"===n)return void(window.location.href="https://"+window.shopFbChat+"/"+n)}const e=sessionStorage.getItem(window.shopFbChat+"_omgfbc_revenue_from_app");e?await updateCartAttribute("revenue-yes",e):(1===Number(facebookChatSettings.enable_abandoned_campaign)||welcomePopupWidgetSettings&&Object.keys(welcomePopupWidgetSettings).length)&&await updateCartAttribute("revenue-no");let o="";if(0===window.OMGFBJquery("body #fb-root").length&&(o+="<div id='fb-root'></div>"),window.OMGFBJquery(".otFacbookChat").append(o),!facebookChatSettings.hasOwnProperty("enable_fb_chat_btn")||facebookChatSettings.enable_fb_chat_btn&&Number(facebookChatSettings.enable_fb_chat_btn)){const t=facebookChatSettings.theme_color,e=facebookChatSettings.greeting_message.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),o=facebookChatSettings.page_info,n=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname+window.location.search,a="1"==facebookChatSettings.auto_display?"show":"hide",i=1==facebookChatSettings.show_greeting_message?`greeting_dialog_display='${a}'`:"";window.OMGFBJquery("#fb-root").append(`\n            <div class='fb-customerchat OMG-FB-Chat'\n                    attribution='setup_tool'\n                    fb-xfbml-state='rendered'\n                    page_id='${o.id}'\n                    themeColor='${t}'\n                    logged_in_greeting="${e}"\n                    logged_out_greeting="${e}"\n                    rel='${n}'\n                    ref="${refCustomerChat}"\n                    ${i}\n                >\n            </div> \n        `),initClassShowIconChatFB()}let n=0;const a=setInterval(()=>{n+=1,n>5e3&&clearInterval(a),window.OMGFBJquery(".otFacbookChat #fb-root").length&&(callInitFaceBook(),clearInterval(a))});if(facebookChatSettings.contact_information&&Number(facebookChatSettings.contact_information.status)&&facebookChatSettings.abTests.get_contact_infor_Feb_2022){window.OMGFBJquery("#fb-root").addClass("ot-fb-hide"),setTimeCreateChat(),contactInfoSettings=facebookChatSettings.contact_information;const t=omgContentContactInfo();window.OMGFBJquery(".otFacbookChat").append(t),trackingFrontWidgetCampaign("impression_getContactInfor")}else if(0==parseInt(facebookChatSettings.show_after))setTimeCreateChat();else{const t=parseInt(facebookChatSettings.show_after)>5?1e3*parseInt(facebookChatSettings.show_after):5e3;window.OMGFBJquery("#fb-root").addClass("ot-fb-hide"),setTimeout((function(){window.OMGFBJquery("#fb-root").removeClass("ot-fb-hide"),setTimeCreateChat()}),t)}if(welcomePopupWidgetSettings&&Object.keys(welcomePopupWidgetSettings).length&&facebookChatSettings.abTests&&facebookChatSettings.abTests.welcome_popup_widget_Oct_2021&&("all-page"===welcomePopupWidgetSettings.show_on_page||"all"===welcomePopupWidgetSettings.show_on_page||"home"===welcomePopupWidgetSettings.show_on_page&&"home"===window.__st.p||"product-page"===welcomePopupWidgetSettings.show_on_page&&"product"===window.__st.p)){const t=localStorage.getItem(window.shopFbChat+"_omgfbc_welcome_popup"),e=omgContentWelcomePopup(t),o=parseInt(welcomePopupWidgetSettings.show_popup_after.value),n=()=>{t||trackingFrontWidgetCampaign("impression_WelcomePopupWidget"),window.OMGFBJquery(".otFacbookChat").after(e)};if(0===o)n();else{let t=welcomePopupWidgetSettings.show_popup_after.type.indexOf("second")>-1?1e3*o:60*o*1e3;setTimeout(()=>{n()},t)}}if(window.OMGFBJquery(document).on("click",".fb_dialog.fb_dialog_mobile iframe",(function(t){if(windowWidth<800&&"1"==facebookChatSettings.chat_type){let t=facebookChatSettings.page_info.id;window.open("https://www.messenger.com/t/"+t,"_blank")}})),"product"===__st.p&&addCartWidgetSettings){const t=OMGFBGetAddCartButton(window.OMGFBJquery(OMGFBGetAddCartForms)),e=1==addCartWidgetSettings.center_align;let o="<style>";e&&(o+='.ot-addcart-widget-notion, .ot-addcart-widget [center_align="true"]{\n                        text-align: center;\n                    }\n                '),"dark"==addCartWidgetSettings.color&&(o+="\n                .ot-addcart-widget{\n                    background: #000;\n                    color: #fff;\n                }\n            "),"standard"==addCartWidgetSettings.size&&(o+="\n                .ot-addcart-widget-notion{\n                    font-size: 14px;;\n                }\n            ");const n=0==addCartWidgetSettings.smart_display;let a=!0;window.addEventListener("message",t=>{t.data&&t.data.origin===t.origin&&(a=t.data.cookie,a||(window.OMGFBJquery(".ot-addcart-widget").removeClass("ot-addcart-prepare"),window.OMGFBJquery(".ot-addcart-widget .fb-messenger-checkbox").html('<div class="uiInputLabel clearfix" id="u_0_5_uv" style="display:flex;justify-content:center;margin-top:10px;">\n  <label class="_kv1 _55sg _7o3q uiInputLabelInput" onClick="openLoginFBBlockCookies()">\n    <input type="checkbox" id="u_0_1_U/" onClick="return false" style="cursor:pointer;">\n  </label>\n  <label class="_7o3z _7o3- uiInputLabelLabel" for="u_0_1_U/" onClick="openLoginFBBlockCookies()" style="cursor:pointer;">\n    <div class="_7o40 _7o42">Send to <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" class="_7o43" xmlns="http://www.w3.org/2000/svg">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g transform="translate(-8.000000, -9.000000)" fill="#FFFFFF" fill-rule="nonzero">\n            <g transform="translate(8.000000, 9.000000)">\n              <path d="M0,7.48603658 C0,3.35089256 3.582697,0 8,0 C12.417303,\n                  0 16,3.35089256 16,7.48603658 C16,11.6211806 12.417303,\n                  14.9720732 8,14.9720732 C7.2,14.9720732 6.430534,\n                  14.8620743 5.701781,14.6583726 L2.782609,16 L2.782609,\n                  13.2173913 C0.979717,11.8417883 0,9.83879093 0,\n                  7.48603658 Z M6.77106,7.87975543 L8.84375,10.0319293\n                  L13.217391,5.39130435 L9.226902,7.59850543 L7.15625,\n                  5.44633152 L2.782609,10.0869565 L6.77106,7.87975543 Z"></path>\n            </g>\n          </g>\n        </g>\n      </svg> Messenger </div>\n  </label>\n</div>')))},!1),o+=`</style>\n                <iframe \n                    name="check-cookies" \n                    src="${window.rootLinkChat}client/checkCookies.php"\n                    style="display: none;"\n                ></iframe>\n                <div class="ot-addcart-widget ot-addcart-prepare">\n                    <div class="fb-messenger-checkbox fb_iframe_widget"\n                        origin="https://${window.shopFbChat}"\n                        page_id='${facebookChatSettings.page_info.id}'\n                        messenger_app_id='${appIdFB}'\n                        user_ref="${uniqueRef}"\n                        allow_login="${n}"\n                        size="${addCartWidgetSettings.size}"\n                        skin="${addCartWidgetSettings.color}"\n                        center_align="${e}"\n                        ref="${refAddCartWidget}"\n                    >\n                    </div>\n                    <div class="ot-addcart-widget-notion">${addCartWidgetSettings.text_subscribed}</div>\n                </div>`,addCartWidgetSettings.custom_position?window.OMGFBJquery(addCartWidgetSettings.custom_position).after(o):t.after(o)}await addInputToCheckoutForm(),initAjaxCart(),1==facebookChatSettings.enable_abandoned_campaign&&await proccessCartItemData()}async function addInputToCheckoutForm(t=""){let e=OMGFBGetCheckoutForm();if(window.OMGFBJquery(e).length){let o="";if(addCartWidgetSettings&&1==addCartWidgetSettings.status){let e=t&&t.items&&t.items.length?t:await getCartInfoData(),n=window.shopFbChat+"_omgFbChatListProductChecked",a=localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):[],i="";for(let t of a)if(e.items.find(e=>e.product_id==t)){i=tokenId;break}if(i.length){o+=`<input name="attributes[omgFbChatCheckboxTokenId]" type="hidden" value="${tokenId}" />`;let t=localStorage.getItem(window.shopFbChat+"_omgfbc_deTokenId");t&&(o+=`<input name="attributes[omgFbChatDeTokenId]" type="hidden" value="${t}" />`)}}if(1==facebookChatSettings.enable_abandoned_campaign){let t=localStorage.getItem(window.shopFbChat+"_omgfbc_deTokenId");t&&(o+=`<input name="attributes[omgFbChatDeTokenId]" type="hidden" value="${t}" />`),window.OMGFBJquery('input[name="attributes[omgFbChatTokenId]"]').length||(o+=`<input name="attributes[omgFbChatTokenId]" type="hidden" value="${tokenId}" />`)}o.length&&window.OMGFBJquery(e).append(o)}}function initAjaxCart(){const t=async(t,e,o=!1)=>{if([window.location.origin+"/cart.js","/cart.js"].includes(t)&&(o&&(e=await e.clone().json()),"Supply"===Shopify.theme.name)){let t=0;if(addCartWidgetSettings&&!Number(addCartWidgetSettings.status)||window.OMGFBJquery('input[name="attributes[omgFbChatCheckboxTokenId]"]').length)return;const o=setInterval(()=>{if(window.OMGFBJquery("#ajaxifyCart .ajaxifyCart--is-loading").length)return t+=1,void(t>10&&clearInterval(o));addInputToCheckoutForm(e),clearInterval(o)},100)}if([window.location.origin+"/cart/add",window.location.origin+"/cart/update",window.location.origin+"/cart/change",window.location.origin+"/cart/clear",window.location.origin+"/cart/add.js",window.location.origin+"/cart/update.js",window.location.origin+"/cart/change.js",window.location.origin+"/cart/clear.js","/cart/add.js","/cart/update.js","/cart/change.js","/cart/clear.js"].includes(t)){if(o&&(e=await e.clone().json()),addCartWidgetSettings&&Number(addCartWidgetSettings.status)&&!window.OMGFBJquery('input[name="attributes[omgFbChatCheckboxTokenId]"]').length&&addInputToCheckoutForm(e),!Number(facebookChatSettings.enable_abandoned_campaign))return;if(abandonedCartUpdateAttributeOneTime)return void(abandonedCartUpdateAttributeOneTime=!1);if(JSON.stringify(checkCartAbandoned)===JSON.stringify(e))return;await proccessCartItemData(e)}};var e,o;e=window,"function"==typeof(o=window.fetch)&&(e.fetch=function(){const e=o.apply(this,arguments);return e.then(e=>{let o=e.url.split("?");o=o[0],t(o,e,!0)}),e});const n=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){return this.addEventListener("load",(function(){try{let e=this._url.split("?");e=e[0],t(e,JSON.parse(this.response))}catch(t){return!1}})),n.apply(this,arguments)}}function openLoginFBBlockCookies(){window.open("https://www.facebook.com/plugins/chat/incognito_login/","","width = 450, height = 470")}async function proccessCartItemData(t){let e=t&&t.items&&t.items.length?t:await getCartInfoData();return e.attributes.omgFbChatTokenId||(abandonedCartUpdateAttributeOneTime=!0,e=await updateCartAttribute()),checkCartAbandoned=e,new Promise((function(t,o){window.OMGFBJquery.ajax({url:window.rootLinkChat+"backend/storefront/facebook-message.php",data:{action:"proccessCartAbandoned",cartInfo:e,shop:window.shopFbChat},dataType:"JSON",type:"POST"})}))}function updateCartAttribute(t="",e=""){const o={};if("revenue-no"===t||"revenue-yes"===t)o.omgFbChatAnalyticRevenue="revenue-yes"===t?e:"No";else{let t=localStorage.getItem(window.shopFbChat+"_omgfbc_deTokenId");t&&(o.omgFbChatDeTokenId=t),o.omgFbChatTokenId=tokenId}return new Promise((function(t,e){window.OMGFBJquery.ajax({type:"POST",url:"/cart/update.js",dataType:"json",data:{attributes:o},success:function(e){t(e)},error:function(t){e(t)}})}))}function getCartInfoData(){return new Promise((function(t,e){window.OMGFBJquery.ajax({type:"GET",url:"/cart.js",dataType:"json",success:function(e){t(e)},error:function(t){e(t)}})}))}function iconChatClickAvailable(){let t=0,e=!1;const o=setInterval(()=>{let n=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe");t++,t>40&&clearInterval(o),n.length&&!e&&(windowWidth>1025&&(e=!0,"1"==facebookChatSettings.auto_display?n.addClass("fb_customer_chat_bounce_in_v2"):n.addClass("fb_customer_chat_bounce_out_v2")),windowWidth<=1025&&"100%"===n.css("max-height")&&(e=!0,n.css("max-height","0"),setTimeout(()=>{n.css("max-height","0")},300))),windowWidth>1025&&n.length&&n.hasClass("fb_customer_chat_bounce_in_v2")&&"0"==facebookChatSettings.auto_display&&(n.removeClass("fb_customer_chat_bounce_in_v2"),clearInterval(o))},50);let n=windowWidth;window.OMGFBJquery(window).resize(()=>{window.OMGFBJquery(window).width()!=n&&(n=document.body.clientWidth)}),setInterval(()=>{let t=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe");if(t.length){t=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe");let e=t.width()||400;window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe[class*=fb_customer_chat_bounce_in]").length&&t.removeClass("fb_customer_chat_bounce_out_v2"),t.css("width")&&(e=parseInt(t.css("width"),10));const o=(n-e)/100*parseInt(facebookChatSettings.position);t.css("left",o)}},500),window.OMGFBJquery(document).on("click",".ot-fb-logo",(function(){facebookChatSettings.contact_information&&Number(facebookChatSettings.contact_information.status)&&facebookChatSettings.abTests.get_contact_infor_Feb_2022&&isAvailableWorkContact||(window.OMGFBJquery(".OMG-FB-Chat > div[id]").length?(isClickLoadingCustom=!0,window.OMGFBJquery(".ot-fb-logo").addClass("ot-fb-logo-loading")):(window.OMGFBJquery(".ot-fb-logo").removeClass("ot-fb-logo-loading"),processFbBoxChat()))}))}function iconChatClickUnavailable(){if(!(facebookChatSettings.working_time&&"messOpt"===facebookChatSettings.working_time.not_available_option&&windowWidth<=1025)){if(facebookChatSettings.working_time&&"messOpt"!==facebookChatSettings.working_time.not_available_option){const t=setInterval(()=>{window.OMGFBJquery("#fb-root").length&&(window.OMGFBJquery(".ot-fb-logo").css("z-index","99999999999999"),window.OMGFBJquery("#fb-root .fb_iframe_widget iframe").addClass("ot-fb-hide"),clearInterval(t))},50)}isDefaultMode&&window.OMGFBJquery(".otFacbookChat").append('<div class="facebook-chat-button-custom"></div>'),window.OMGFBJquery(document).on("click",".ot-fb-logo, .facebook-chat-button-custom",(function(){window.OMGFBJquery(".available-work-container").hasClass("ot-fb-hide")?window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe").hasClass("fb_customer_chat_bounce_in_v2")&&facebookChatSettings.working_time&&"messOpt"===facebookChatSettings.working_time.not_available_option?processFbBoxChat("not-available"):window.OMGFBJquery(".available-work-container").removeClass("ot-fb-hide").addClass("ot-fb-flex"):closeNotAvailableOpt()}))}}function setTimeCreateChat(){if(facebookChatSettings.page_target&&"0"!==facebookChatSettings.page_target){const t=window.location.pathname;let e="";if("/"===t)e="template-index";else if(t.startsWith("/collections/"))e="template-collection";else if(t.startsWith("/products/"))e="template-product";else if(t.startsWith("/cart"))e="template-cart";else if(t.startsWith("/search"))e="template-search";else if(t.startsWith("/pages/")){e=t.replace("/pages/","")}if("1"===facebookChatSettings.page_target){if(facebookChatSettings.specific_pages.indexOf(e)<0)return window.OMGFBJquery("#fb-root").addClass("ot-fb-hide"),void console.log("Not specifics page")}else if("2"===facebookChatSettings.page_target){if(facebookChatSettings.exclude_pages.indexOf(e)>=0)return window.OMGFBJquery("#fb-root").addClass("ot-fb-hide"),void console.log("excludes page")}}let t="";if("2"==facebookChatSettings.status_connect&&(t=makeHtml(),makeSettingsCustomerChat()),!facebookChatSettings.hasOwnProperty("enable_fb_chat_btn")||facebookChatSettings.enable_fb_chat_btn&&1==facebookChatSettings.enable_fb_chat_btn){window.OMGFBJquery(".otFacbookChat").append(t);facebookChatSettings.position>50?window.OMGFBJquery(".icon-text-content").addClass("icon-text-content-left"):window.OMGFBJquery(".icon-text-content").addClass("icon-text-content-right"),getStyleCustom(),window.OMGFBJquery(window).resize(()=>{window.OMGFBJquery(window).width()!=windowWidth&&getStyleCustom(document.body.clientWidth)}),"0"==facebookChatSettings.auto_display&&windowWidth>1024&&"default"!==facebookChatSettings.display_mode&&window.OMGFBJquery("#fb-root").addClass("ot-fb-hide");const e=setInterval(()=>{(isDefaultMode&&window.OMGFBJquery(".fb_dialog_content iframe").height()>0||!isDefaultMode&&window.OMGFBJquery(".ot-fb-logo .ot-fb-icon").height()>0)&&(trackingFrontWidgetCampaign("show_IconFbLiveChat"),clearInterval(e))},1e3)}}function initClassShowIconChatFB(){if(window.OMGFBJquery(".ot-fb-logo").addClass("omgfb-hidden-icon"),(window.OMGFBJquery(".fb_dialog_content iframe").length||window.OMGFBJquery(".OMG-FB-Chat > div[id]").length)&&window.OMGFBJquery(".ot-fb-logo").length){let t=0;const e=setInterval(()=>{t++,t>1e3&&clearInterval(e),isClickLoadingCustom&&!window.OMGFBJquery(".OMG-FB-Chat > div[id]").length&&(window.OMGFBJquery(".ot-fb-logo").removeClass("ot-fb-logo-loading"),facebookChatSettings.contact_information&&Number(facebookChatSettings.contact_information.status)&&facebookChatSettings.abTests.get_contact_infor_Feb_2022&&isAvailableWorkContact?(window.OMGFBJquery(".omg-contact-info-button-link").removeClass("ot-fb-logo-loading"),window.OMGFBJquery(".omg-contact-info").addClass("ot-fb-hide")):isDefaultMode&&window.OMGFBJquery(".ot-fb-logo").remove(),processFbBoxChat("",!0),clearInterval(e))},50);window.OMGFBJquery(".ot-fb-logo").removeClass("omgfb-hidden-icon")}else setTimeout(()=>{initClassShowIconChatFB()},10)}function makeHtml(t=""){const e=facebookChatSettings.theme_color,o=facebookChatSettings.icon_type;let n=windowWidth>=1025?facebookChatSettings.icon_text:"";const a=facebookChatSettings.icon_text_color,i=facebookChatSettings.tab_color,s=facebookChatSettings.tab_size,c=facebookChatSettings.tab_style,r=n?"has_text":"none_text";let d="28px";"medium"==s?d="32px":"large"==s&&(d="36px");const l=`color: ${a}; background-color: ${i}; line-height: ${d};`,g=iconHtml?""+iconHtml[o]:"",u=`<span  style='${l}' class='ml-1 icon-text-content'> ${n}</span>`,f="1"==facebookChatSettings.chat_type?"redirect_icon":"";let m="",b="";isDefaultMode||(b=`<div class='ot-fb-logo ${f} facebook-chat-button ${s} ${c} ${r}' style='${"one_box"==c?"background-color: "+i+";":""}'>\n            <div class='ot-fb-icon' style='background-color: ${i}; fill: ${a}; border-color: ${a};'>\n            ${g}\n            </div>\n            ${u}\n        </div>`),(isDefaultMode&&1==facebookChatSettings.chat_type&&windowWidth<1025||isDefaultMode)&&(b=`\n            <div class='ot-fb-logo ${f} facebook-chat-button'>\n                <div class='ot-fb-icon' style="background-color: ${e}; border-bottom-color: #fff;">\n                    <svg x="0" y="0" width="60px" height="60px">\n                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                            <g>\n                                <circle fill="${e}" cx="30" cy="30" r="30"></circle>\n                                <svg width="36" height="36" viewBox="-12 -12 36 36" style="overflow: unset;">\n                                    <path fill="white" d="M1 17.99C1 8.51488 8.42339 1.5 18 1.5C27.5766 1.5 35 8.51488 35 17.99C35 27.4651 27.5766 34.48 18 34.48C16.2799 34.48 14.6296 34.2528 13.079 33.8264C12.7776 33.7435 12.4571 33.767 12.171 33.8933L8.79679 35.3828C7.91415 35.7724 6.91779 35.1446 6.88821 34.1803L6.79564 31.156C6.78425 30.7836 6.61663 30.4352 6.33893 30.1868C3.03116 27.2287 1 22.9461 1 17.99ZM12.7854 14.8897L7.79161 22.8124C7.31238 23.5727 8.24695 24.4295 8.96291 23.8862L14.327 19.8152C14.6899 19.5398 15.1913 19.5384 15.5557 19.8116L19.5276 22.7905C20.7193 23.6845 22.4204 23.3706 23.2148 22.1103L28.2085 14.1875C28.6877 13.4272 27.7531 12.5704 27.0371 13.1137L21.673 17.1847C21.3102 17.4601 20.8088 17.4616 20.4444 17.1882L16.4726 14.2094C15.2807 13.3155 13.5797 13.6293 12.7854 14.8897Z"></path>\n                                </svg>\n                            </g>\n                        </g>\n                    </svg>\n                </div>\n            </div>\n        `);const p=facebookChatSettings.working_time&&"messOpt"===facebookChatSettings.working_time.not_available_option&&facebookChatSettings.abTests.available_working_time_Aug_2021?`<div class="fb-mess-widget available-work-container ot-fb-hide">\n                <i class="fb-mess__close" onClick="closeNotAvailableOpt()">\n                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"\n                        width="10px" height="10px" viewBox="0 0 123.05 123.05" style="enable-background:new 0 0 123.05 123.05;"\n                        xml:space="preserve">\n                        <g>\n                            <path d="M121.325,10.925l-8.5-8.399c-2.3-2.3-6.1-2.3-8.5,0l-42.4,42.399L18.726,1.726c-2.301-2.301-6.101-2.301-8.5,0l-8.5,8.5\n                                c-2.301,2.3-2.301,6.1,0,8.5l43.1,43.1l-42.3,42.5c-2.3,2.3-2.3,6.1,0,8.5l8.5,8.5c2.3,2.3,6.1,2.3,8.5,0l42.399-42.4l42.4,42.4\n                                c2.3,2.3,6.1,2.3,8.5,0l8.5-8.5c2.3-2.3,2.3-6.1,0-8.5l-42.5-42.4l42.4-42.399C123.625,17.125,123.625,13.325,121.325,10.925z"/>\n                        </g>\n                    </svg>\n                </i>\n                <p class="fb-mess-widget__text">${convertHtml(facebookChatSettings.working_time.fb_messages)}</p>\n                <button style='background-color: ${a};' onClick="fbMessageNotAvailable()" id="unavailable-working-fb-chat">\n                <svg\n                    viewBox="0 0 40 40"\n                    x="0"\n                    y="0"\n                    width="16px"\n                    height="16px"\n                >\n                    <g\n                    stroke="none"\n                    strokeWidth=1\n                    fill="none"\n                    fillRule="evenodd"\n                    >\n                    <g>\n                        <svg x="0" y="0">\n                        <path\n                            d="M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"\n                            fill="#FFFFFF"\n                        />\n                        </svg>\n                    </g>\n                    </g>\n                </svg>\n                <span class="fb-mess-widget__btn-text">\n                    Leave us a message\n                </span>\n                </button>\n            </div>`:"",w=facebookChatSettings.working_time&&"emailOpt"===facebookChatSettings.working_time.not_available_option&&facebookChatSettings.abTests.available_working_time_Aug_2021?`<div class="fb-email-form available-work-container ot-fb-hide">\n                <i class="fb-mess__close" onClick="closeNotAvailableOpt()">\n                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                        width="10px" height="10px" viewBox="0 0 123.05 123.05" style="enable-background:new 0 0 123.05 123.05;"\n                        xml:space="preserve">\n                        <g>\n                            <path d="M121.325,10.925l-8.5-8.399c-2.3-2.3-6.1-2.3-8.5,0l-42.4,42.399L18.726,1.726c-2.301-2.301-6.101-2.301-8.5,0l-8.5,8.5\n                                c-2.301,2.3-2.301,6.1,0,8.5l43.1,43.1l-42.3,42.5c-2.3,2.3-2.3,6.1,0,8.5l8.5,8.5c2.3,2.3,6.1,2.3,8.5,0l42.399-42.4l42.4,42.4\n                                c2.3,2.3,6.1,2.3,8.5,0l8.5-8.5c2.3-2.3,2.3-6.1,0-8.5l-42.5-42.4l42.4-42.399C123.625,17.125,123.625,13.325,121.325,10.925z"/>\n                        </g>\n                    </svg>\n                </i>\n                <h3>Leave us a message</h3>\n                <div class="fb-email-form__email">\n                    <label for="otEmail">Email</label>\n                    <input type="text" id="otEmail" name="otEmail" />\n                </div>\n            <div  class="fb-email-form__subject">\n                <label for="otSubject">Subject</label>\n                    <input type="text" id="otSubject" name="otSubject" />\n            </div>\n                <div class="fb-email-form__textarea">\n                    <label for="otMessage">Message</label>\n                    <textarea\n                        type="text" id="otMessage" name="otMessage"\n                    />\n                </div>\n                <button class="fb-email-form__submit" style='background-color: ${a};' onClick="submitEmailForm()">\n                    Submit\n                </button>\n            </div>`:"",h=setInterval(()=>{window.OMGFBJquery(".fb_iframe_widget.fb_invisible_flow").length>0&&!window.OMGFBJquery(".fb_iframe_widget.fb_invisible_flow").hasClass("fb-customerchat")&&(window.OMGFBJquery(".fb_iframe_widget.fb_invisible_flow").addClass("fb-customerchat"),clearInterval(h))},50);let _=0;const C=setInterval(()=>{_+=1,_>50&&clearInterval(C),window.FB&&windowWidth<1025&&(FB.XFBML.parse(),clearInterval(C))},50);let k="";return facebookChatSettings.abTests&&facebookChatSettings.abTests.intergrate_instagram_Oct_2021&&facebookChatSettings.instagram&&facebookChatSettings.instagram.username&&(k=`<div class="OMG-instagram-icon OMG-instagram-icon-${facebookChatSettings.display_mode}">\n            <a href="https://www.instagram.com/${facebookChatSettings.instagram.username}/" target="_blank" style="background-color: ${i}">\n                <svg width="${isDefaultMode?"40":windowWidth>=1025?"30":"36"}" height="${isDefaultMode?"40":windowWidth>=1025?"30":"36"}" viewBox="0 0 534 534" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M266.826 0C155.465 0 122.896 0.114882 116.566 0.640054C93.7123 2.5397 79.4916 6.13796 63.999 13.8514C52.0596 19.7801 42.6434 26.6525 33.3503 36.2861C16.4258 53.8548 6.1685 75.469 2.45536 101.161C0.650084 113.634 0.124911 116.178 0.0182352 179.888C-0.022794 201.125 0.0182352 229.074 0.0182352 266.562C0.0182352 377.833 0.141323 410.369 0.674701 416.688C2.52101 438.925 6.00849 452.916 13.3937 468.22C27.5077 497.515 54.4639 519.507 86.2204 527.712C97.2162 530.543 109.361 532.102 124.952 532.841C131.558 533.128 198.886 533.333 266.256 533.333C333.626 533.333 400.996 533.251 407.437 532.923C425.49 532.074 435.973 530.666 447.564 527.671C463.31 523.633 477.985 516.207 490.564 505.91C503.142 495.613 513.322 482.694 520.391 468.056C527.632 453.121 531.304 438.597 532.966 417.52C533.327 412.925 533.479 339.66 533.479 266.492C533.479 193.313 533.315 120.182 532.954 115.587C531.271 94.17 527.599 79.7688 520.124 64.547C513.99 52.0865 507.179 42.7811 497.291 33.2664C479.649 16.4116 458.067 6.15437 432.346 2.44534C419.886 0.644157 417.403 0.110779 353.644 0H266.826Z" fill="url(#paint0_radial_101:6)"/>\n                    <path d="M266.826 0C155.465 0 122.896 0.114882 116.566 0.640054C93.7123 2.5397 79.4916 6.13796 63.999 13.8514C52.0596 19.7801 42.6434 26.6525 33.3503 36.2861C16.4258 53.8548 6.1685 75.469 2.45536 101.161C0.650084 113.634 0.124911 116.178 0.0182352 179.888C-0.022794 201.125 0.0182352 229.074 0.0182352 266.562C0.0182352 377.833 0.141323 410.369 0.674701 416.688C2.52101 438.925 6.00849 452.916 13.3937 468.22C27.5077 497.515 54.4639 519.507 86.2204 527.712C97.2162 530.543 109.361 532.102 124.952 532.841C131.558 533.128 198.886 533.333 266.256 533.333C333.626 533.333 400.996 533.251 407.437 532.923C425.49 532.074 435.973 530.666 447.564 527.671C463.31 523.633 477.985 516.207 490.564 505.91C503.142 495.613 513.322 482.694 520.391 468.056C527.632 453.121 531.304 438.597 532.966 417.52C533.327 412.925 533.479 339.66 533.479 266.492C533.479 193.313 533.315 120.182 532.954 115.587C531.271 94.17 527.599 79.7688 520.124 64.547C513.99 52.0865 507.179 42.7811 497.291 33.2664C479.649 16.4116 458.067 6.15437 432.346 2.44534C419.886 0.644157 417.403 0.110779 353.644 0H266.826Z" fill="url(#paint1_radial_101:6)"/>\n                    <path d="M266.703 69.7495C213.218 69.7495 206.505 69.9834 185.498 70.9394C164.533 71.8994 150.222 75.2187 137.7 80.0889C124.747 85.119 113.759 91.8478 102.812 102.798C91.8577 113.745 85.1289 124.733 80.0824 137.681C75.1999 150.208 71.8765 164.523 70.9329 185.48C69.9974 206.487 69.7512 213.204 69.7512 266.689C69.7512 320.175 69.9892 326.867 70.9411 347.874C71.9053 368.839 75.2245 383.15 80.0906 395.672C85.1248 408.625 91.8536 419.613 102.804 430.56C113.747 441.514 124.734 448.26 137.679 453.29C150.209 458.16 164.524 461.479 185.486 462.439C206.493 463.395 213.201 463.629 266.683 463.629C320.172 463.629 326.864 463.395 347.871 462.439C368.837 461.479 383.164 458.16 395.695 453.29C408.643 448.26 419.615 441.514 430.557 430.56C441.512 419.613 448.241 408.625 453.287 395.677C458.129 383.15 461.452 368.835 462.437 347.878C463.38 326.871 463.627 320.175 463.627 266.689C463.627 213.204 463.38 206.491 462.437 185.484C461.452 164.519 458.129 150.208 453.287 137.686C448.241 124.733 441.512 113.745 430.557 102.798C419.602 91.8437 408.648 85.1149 395.682 80.0889C383.128 75.2187 368.808 71.8994 347.842 70.9394C326.836 69.9834 320.148 69.7495 266.646 69.7495H266.703ZM249.036 105.24C254.28 105.231 260.13 105.24 266.703 105.24C319.286 105.24 325.519 105.428 346.283 106.372C365.485 107.25 375.906 110.459 382.848 113.154C392.039 116.724 398.591 120.991 405.48 127.884C412.373 134.777 416.64 141.341 420.218 150.532C422.913 157.466 426.126 167.887 427 187.089C427.944 207.849 428.149 214.086 428.149 266.644C428.149 319.202 427.944 325.439 427 346.2C426.122 365.401 422.913 375.823 420.218 382.757C416.648 391.947 412.373 398.491 405.48 405.38C398.587 412.273 392.043 416.54 382.848 420.109C375.915 422.817 365.485 426.018 346.283 426.896C325.523 427.839 319.286 428.044 266.703 428.044C214.116 428.044 207.884 427.839 187.123 426.896C167.922 426.009 157.5 422.801 150.554 420.105C141.363 416.536 134.799 412.269 127.906 405.376C121.013 398.483 116.746 391.935 113.168 382.74C110.473 375.806 107.26 365.385 106.386 346.183C105.442 325.422 105.254 319.186 105.254 266.595C105.254 214.004 105.442 207.8 106.386 187.039C107.264 167.838 110.473 157.416 113.168 150.474C116.738 141.284 121.013 134.719 127.906 127.826C134.799 120.933 141.363 116.666 150.554 113.089C157.496 110.381 167.922 107.18 187.123 106.298C205.291 105.478 212.331 105.231 249.036 105.19V105.24ZM371.828 137.94C367.154 137.94 362.584 139.326 358.698 141.923C354.811 144.52 351.782 148.212 349.993 152.531C348.205 156.849 347.737 161.602 348.65 166.186C349.563 170.771 351.814 174.982 355.12 178.286C358.426 181.591 362.638 183.841 367.223 184.752C371.807 185.663 376.559 185.194 380.878 183.404C385.196 181.614 388.886 178.584 391.482 174.696C394.078 170.809 395.462 166.239 395.461 161.564C395.461 148.517 384.875 137.932 371.828 137.932V137.94ZM266.703 165.552C210.85 165.552 165.567 210.836 165.567 266.689C165.567 322.542 210.85 367.806 266.703 367.806C322.556 367.806 367.828 322.542 367.828 266.689C367.828 210.836 322.552 165.552 266.699 165.552H266.703ZM266.703 201.043C302.957 201.043 332.35 230.432 332.35 266.689C332.35 302.943 302.957 332.336 266.703 332.336C230.446 332.336 201.057 302.943 201.057 266.689C201.057 230.432 230.446 201.043 266.703 201.043Z" fill="white"/>\n                    <defs>\n                        <radialGradient id="paint0_radial_101:6" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(141.706 574.411) rotate(-90) scale(528.573 491.748)">\n                            <stop stop-color="#FFDD55"/>\n                            <stop offset="0.1" stop-color="#FFDD55"/>\n                            <stop offset="0.5" stop-color="#FF543E"/>\n                            <stop offset="1" stop-color="#C837AB"/>\n                        </radialGradient>\n                            <radialGradient id="paint1_radial_101:6" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-89.3605 38.4204) rotate(78.6776) scale(236.277 974.188)">\n                            <stop stop-color="#3771C8"/>\n                            <stop offset="0.128" stop-color="#3771C8"/>\n                            <stop offset="1" stop-color="#6600FF" stop-opacity="0"/>\n                        </radialGradient>\n                    </defs>\n                </svg>\n            </a>\n        </div>`),m+="contact"===t?""+b:` ${b}\n        ${k}\n        ${p}\n        ${w}`,m}function convertHtml(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function callInitFaceBook(){let t=!1;var e,o,n,a,i;window.fbAsyncInit=function(){FB.init({appId:appIdFB,autoLogAppEvents:!0,xfbml:!0,version:"v13.0"}),FB.Event.subscribe("messenger_checkbox",(function(e){if("rendered"==e.event)console.log("Plugin was rendered"),trackingFrontWidgetCampaign("impression_addToCartWidget");else if("checkbox"==e.event){const o=e.state;if(t&&trackingFrontWidgetCampaign("click_addToCartWidget"),"checked"==o){if(FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:appIdFB,page_id:facebookChatSettings.page_info.id,user_ref:uniqueRef,ref:refAddCartWidget}),window.OMGFBJquery(".ot-addcart-widget-notion").empty(),window.OMGFBJquery(".ot-addcart-widget-notion").text(""+(addCartWidgetSettings?addCartWidgetSettings.text_subscribed:"")),"product"===__st.p&&__st.rid){let t=__st.rid,e=window.shopFbChat+"_omgFbChatListProductChecked",o=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[];o.includes(t)||(o.push(t),localStorage.setItem(e,JSON.stringify(o)))}}else if("unchecked"==o){if(window.OMGFBJquery(".ot-addcart-widget-notion").empty(),window.OMGFBJquery(".ot-addcart-widget-notion").text(""+(addCartWidgetSettings?addCartWidgetSettings.text_not_subscribed_yet:"")),"product"===__st.p&&__st.rid&&t){let t=__st.rid,e=window.shopFbChat+"_omgFbChatListProductChecked",o=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[];o.includes(t)&&(o=o.filter(e=>e!=t),o.length||window.OMGFBJquery('input[name="attributes[omgFbChatCheckboxTokenId]"]').remove(),localStorage.setItem(e,JSON.stringify(o)))}t=!0}window.OMGFBJquery(".ot-addcart-widget").removeClass("ot-addcart-prepare"),console.log("Checkbox state: "+o)}else"not_you"==e.event?console.log("User clicked 'not you'"):"hidden"==e.event&&(console.log("Plugin was hidden"),window.OMGFBJquery(".ot-addcart-widget").css("display","none"))})),FB.Event.subscribe("customerchat.dialogShow",(function(){isDefaultMode&&trackingFrontWidgetCampaign("click_showFBMessageBox")})),FB.Event.subscribe("customerchat.dialogHide",(function(){isDefaultMode&&trackingFrontWidgetCampaign("click_showFBMessageBox")}))},e=document,o="script",n="OMG_facebook-jssdk",i=e.getElementsByTagName(o)[0],e.getElementById(n)||((a=e.createElement(o)).id=n,a.src=`https://connect.facebook.net/${facebookChatSettings.language}/sdk/xfbml.customerchat.js`,i.parentNode.insertBefore(a,i))}function availableWorkingTime(t,e=""){let o=!1,n=!1;if(t.working_time){const a=t.working_time;if(!Number(a.status)){let i="";const s={"-12":"Pacific/Midway","-11":"Pacific/Midway","-10":"Pacific/Honolulu","-9":"America/Anchorage","-8":"America/Los_Angeles","-7":"America/Cambridge_Bay","-6":"America/Mexico_City","-5":"America/Atikokan","-4":"Canada/Atlantic","-3":"America/Sao_Paulo","-2":"America/Noronha","-1":"Atlantic/Azores",0:"Europe/London",1:"Europe/Amsterdam",2:"Europe/Bucharest",3:"Asia/Baghdad",4:"Asia/Muscat",5:"Asia/Karachi",6:"Asia/Almaty",7:"Asia/Bangkok",8:"Asia/Hong_Kong",9:"Asia/Irkutsk",10:"Australia/Brisbane",11:"Asia/Vladivostok",12:"Pacific/Auckland"};i=Object.keys(s).indexOf(a.time_zone)>-1?s[a.time_zone]:a.time_zone;let c=(new Date).toLocaleString("en-US",{timeZone:i});c=new Date(c);const r=c.getFullYear(),d=c.getMonth(),l=c.getDay(),g=c.getHours(),u=c.getMinutes();let f;if(t.weekdays){f=t.weekdays;let o=[];for(const t of Object.values(f))o.push(parseInt(t.id));-1===o.indexOf(parseInt(l))&&(n=setAvailableWork(e))}const m=new Date(r,d,l,g,u).getTime();let b=a.start.split(":");const p=new Date(r,d,l,b[0],b[1]).getTime();let w=a.end.split(":");const h=new Date(r,d,l,w[0],w[1]).getTime();o=!(p<m&&h>m)&&setAvailableWork(e)}}return n||o}function makeSettingsCustomerChat(){const t=facebookChatSettings.device_target;availableWorkingTime(facebookChatSettings)?(isNotAvailableWork=!0,iconChatClickUnavailable(),facebookChatSettings.contact_information&&!Number(facebookChatSettings.contact_information.status)&&facebookChatSettings.abTests.get_contact_infor_Feb_2022&&(window.OMGFBJquery(".ot-fb-logo").remove(),window.OMGFBJquery("#fb-root").remove(),window.OMGFBJquery(".facebook-chat-button-custom").remove())):iconChatClickAvailable(),"1"==t?window.OMGFBJquery(".otFacbookChat").addClass("hide-mobile"):"2"==t&&window.OMGFBJquery(".otFacbookChat").addClass("hide-desktop")}function setAvailableWork(t){return"contact"===t||(console.log("Facebook live chat by Omega: Not in the working days"),facebookChatSettings.working_time&&"noneOpt"===facebookChatSettings.working_time.not_available_option&&window.OMGFBJquery(".otFacbookChat").addClass("ot-fb-hide")),!0}function getStyleCustom(t=windowWidth){const e=setInterval(()=>{if(!isDefaultMode&&window.OMGFBJquery(".ot-fb-logo").length&&"auto"!==window.OMGFBJquery(".ot-fb-logo").css("z-index")&&window.OMGFBJquery(".ot-fb-logo").width()<t||isDefaultMode){window.OMGFBJquery(".OMG-style-button").remove();let o="",n="",a=parseInt(facebookChatSettings.position);const i=parseInt(facebookChatSettings.margin_bottom),s=1==facebookChatSettings.chat_type?" display: none !important;":"";if(""!==facebookChatSettings.custom_css){const t=facebookChatSettings.custom_css;t.status&&(o=t.code)}let c;switch(facebookChatSettings.tab_size){case"small":c=55;break;case"medium":c=65;break;case"large":c=75;break;default:c=80}const r=window.OMGFBJquery(".ot-fb-logo").outerWidth(),d=t<1025||isDefaultMode?60:r,l=(t-d)/100*parseInt(a),g=isDefaultMode?60:d,u=a>50&&t>=1025?(t-g)/100*parseInt(a)+(r-60):(t-g)/100*parseInt(a),f=(t-window.OMGFBJquery(".available-work-container").outerWidth())/100*parseInt(a)+"px !important;";let m=400;t<m&&(m=t);const b=(t-m)/100*parseInt(a)+"px !important;";let p=isDefaultMode?"":"opacity: 0.002!important;",w=i;if(facebookChatSettings.instagram&&facebookChatSettings.instagram.username&&(w+=isDefaultMode?65:55),n+=`<style class="OMG-style-button" type='text/css'>\n                .otFacbookChat .available-work-container  {\n                    left: ${f};\n                    bottom: ${i+c+6}px !important;\n                }\n                \n                .otFacbookChat .omg-contact-info {\n                    left: ${b};\n                    bottom: ${i+c+6}px !important;\n                }\n                \n                .fb_dialog .fb_dialog_content {\n                    ${p}\n                }\n\n                .fb-customerchat.fb_iframe_widget iframe {\n                    bottom: ${i+c}px !important;\n                }\n                \n                .OMG-instagram-icon {\n                    bottom: ${i}px !important;\n                    left: ${u}px !important;\n                }\n                \n                .OMG-instagram-hover {\n                    bottom: ${w+16}px !important;\n                }\n                \n                .facebook-chat-button-custom,\n                .ot-fb-logo.facebook-chat-button,\n                .fb_dialog .fb_dialog_content iframe,\n                .fb_dialog .fb_dialog_content > div,\n                .OMG-FB-Chat > div[id] {\n                    bottom: ${i}px !important;\n                    left: ${l}px !important;\n                }\n                \n                .ot-fb-logo.facebook-chat-button {\n                    direction: ${a>50?"rtl":"ltr"};\n                }\n                \n                @media screen and (max-width: 1025px) {\n                    .fb-customerchat.fb_iframe_widget iframe {\n                        left: auto !important;\n                        bottom: ${i+50}px !important;\n                        ${s}\n                    }\n                    \n                    .fb_dialog .fb_dialog_content iframe,\n                    .fb_dialog .fb_dialog_content #_no-clickjacking-0,\n                    .fb_dialog .fb_dialog_content #_no-clickjacking-1 {\n                        ${s}\n                    }\n                \n                    .fb_dialog.fb_dialog_mobile  {\n                        bottom: ${i}px!important;\n                    }\n                }\n                \n                ${o}\n            </style>`,window.OMGFBJquery(".otFacbookChat").append(n),t>=1025)window.OMGFBJquery((function(){const t=window.OMGFBJquery(".fb_dialog .fb_dialog_content iframe, .ot-fb-logo, .OMG-instagram-icon"),e=window.OMGFBJquery(".OMG-instagram-icon");window.OMGFBJquery(t).hover((function(){e.addClass("OMG-instagram-hover")}),(function(){e.removeClass("OMG-instagram-hover")}))}));else{const t=window.OMGFBJquery(".fb_dialog .fb_dialog_content iframe, .ot-fb-logo, .OMG-instagram-icon");window.OMGFBJquery(".OMG-instagram-icon").addClass("OMG-instagram-hover"),t.off("hover")}clearInterval(e)}},50)}function closeNotAvailableOpt(){window.OMGFBJquery(".available-work-container").removeClass("ot-fb-flex").addClass("ot-fb-hide")}function submitEmailForm(){const t=window.OMGFBJquery(".fb-email-form__email input").val(),e=window.OMGFBJquery(".fb-email-form__subject input").val(),o=window.OMGFBJquery(".fb-email-form__textarea textarea").val();return new Promise(n=>{window.OMGFBJquery.ajax({url:window.rootLinkChat+"backend/storefront/facebook-message.php",data:{email:t,subject:e,message:o,action:"sendMessage",shop:shopFbChat},dataType:"JSON",type:"POST"}).done((function(t){}))})}function fbMessageNotAvailable(){window.OMGFBJquery(document).on("click","#unavailable-working-fb-chat",(function(){processFbBoxChat("not-available")}))}function trackingFrontWidgetCampaign(t){return new Promise(e=>{window.OMGFBJquery.ajax({url:window.rootLinkChat+"backend/storefront/facebook-message.php",data:{action:"trackingFrontWidgetCampaign",type:t,shop:shopFbChat},dataType:"JSON",type:"POST"}).done((function(t){}))})}function processFbBoxChat(t="",e=!1){window.OMGFBJquery("#fb-root").addClass("ot-fb-show").removeClass("ot-fb-hide"),"not-available"===t&&closeNotAvailableOpt();const o=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe");if(windowWidth<1025&&!e){if(window.OMGFBJquery(".ot-fb-logo.redirect_icon").length>0){let t=facebookChatSettings.page_info.id;window.open("https://www.messenger.com/t/"+t,"_blank")}}else window.OMGFBJquery(".fb-customerchat").children().length||(FB.Event.subscribe("customerchat.show",processShowDialog("callToGetPopup",e)),window.OMGFBisGetPopup="getPopup"),o.hasClass("fb_customer_chat_bounce_out_v2")||!o.hasClass("fb_customer_chat_bounce_out_v2")&&!o.hasClass("fb_customer_chat_bounce_in_v2")?FB.Event.subscribe("customerchat.show",processShowDialog(OMGFBisGetPopup,e)):FB.Event.subscribe("customerchat.hide",processHideDialog(OMGFBisGetPopup)),trackingFrontWidgetCampaign("click_showFBMessageBox")}function processShowDialog(t="",e){!t&&FB.CustomerChat&&FB.CustomerChat.show(!0),"callToGetPopup"==t&&FB.XFBML.parse(),(!e||windowWidth>1024)&&omgFBAddRemoveClassShowHide()}function processHideDialog(t=""){!t&&FB.CustomerChat&&FB.CustomerChat.hideDialog(),omgFBAddRemoveClassShowHide("remove")}function omgFBAddRemoveClassShowHide(t="add"){const e="remove"===t?"0":"calc(100% - 80px)",o="remove"===t?"fb_customer_chat_bounce_out_v2":"fb_customer_chat_bounce_in_v2",n="remove"===t?"fb_customer_chat_bounce_in_v2":"fb_customer_chat_bounce_out_v2",a=setInterval(()=>{let i=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe");i.length&&("add"===t&&setTimeout(()=>{i=window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe"),"fb_bounce_in_v2"===i.css("animation-name")&&i.width()>247&&i.addClass("omg-fb-set-height")},250),i.css("max-height",e),i.removeClass(n).addClass(o),clearInterval(a))},50)}function omgContentWelcomePopup(t){let e="omg-welcome-popup-button-round-rectangle";1===Number(welcomePopupWidgetSettings.call_action_shape)&&(e="omg-welcome-popup-button-pill"),2===Number(welcomePopupWidgetSettings.call_action_shape)&&(e="omg-welcome-popup-button-rectangle");let o=`\n        <div class="omg-welcome-popup ${t?"ot-fb-hide":""}">\n            <div class="omg-welcome-overlay"></div>\n            <div \n                class="omg-welcome-popup-content omg-welcome-popup-position-${welcomePopupWidgetSettings.position_popup}" \n                style="background: ${welcomePopupWidgetSettings.background_popup.color} url('${welcomePopupWidgetSettings.background_popup.url_image}') no-repeat center center;background-size: cover;"\n            >\n                <div class="omg-welcome-popup-close" style="background: ${welcomePopupWidgetSettings.custom_icon_close.background};">\n                    <svg \n                        fill="${welcomePopupWidgetSettings.custom_icon_close.color}" \n                        viewBox="0 0 20 20" \n                        focusable="false" \n                        aria-hidden="true"\n                    >\n                        <path d="m11.414 10 6.293-6.293a1 1 0 1 0-1.414-1.414L10 8.586 3.707 2.293a1 1 0 0 0-1.414 1.414L8.586 10l-6.293 6.293a1 1 0 1 0 1.414 1.414L10 11.414l6.293 6.293A.998.998 0 0 0 18 17a.999.999 0 0 0-.293-.707L11.414 10z"></path>\n                    </svg>\n                </div>\n                <div class="omg-welcome-popup-logo">\n                    <img src="${welcomePopupWidgetSettings.url_logo.url_image?welcomePopupWidgetSettings.url_logo.url_image:rootLinkChat+"admin/src/assets/img/ot-logo-default.png"}">\n                </div>\n                <div class="omg-welcome-popup-header">\n                    <div class="omg-welcome-popup-title1" style="color: ${welcomePopupWidgetSettings.top_heading.color};"></div>\n                    <div class="omg-welcome-popup-title2" style="color: ${welcomePopupWidgetSettings.heading_hightlight.color};"></div>\n                    <div class="omg-welcome-popup-title3" style="color: ${welcomePopupWidgetSettings.bottom_text.color};"></div>\n                </div>\n                <button \n                    type="button" \n                    class="omg-welcome-popup-button ${e}" \n                    style="background-color: ${welcomePopupWidgetSettings.button_heading.background}; color: ${welcomePopupWidgetSettings.button_heading.color};"\n                >\n                    <a \n                        style="color: ${welcomePopupWidgetSettings.button_heading.color};" \n                        href="https://m.me/${facebookChatSettings.page_info.id}?ref=${refWelcomePopupWidget}" \n                        target="_blank" \n                        data-source="welcome_popup"\n                        class="omg-welcome-popup-link"\n                    >\n                        <svg viewBox="0 0 22.677 22.68" style="fill: ${welcomePopupWidgetSettings.button_heading.color};">\n                            <path id="Path_24" data-name="Path 24" d="M452.074-752.626v-2.158a2.256,2.256,0,0,0,.051-.22,10.527,10.527,0,0,1,6.75-8.859,11.815,11.815,0,0,1,7.075-.6,10.824,10.824,0,0,1,6.068,3.436,10.7,10.7,0,0,1,2.695,8.235,10.423,10.423,0,0,1-3.221,6.914,11.445,11.445,0,0,1-8.144,3.174,11.793,11.793,0,0,1-3.225-.436.957.957,0,0,0-.577.035c-.794.331-1.575.693-2.361,1.043h-.568a1,1,0,0,1-.642-1.005c0-.481-.056-.964-.039-1.444a1.615,1.615,0,0,0-.564-1.323,10.313,10.313,0,0,1-3.111-5.7C452.19-751.9,452.136-752.264,452.074-752.626Zm9.344-3.92a1.586,1.586,0,0,0-1.505.8c-.6.949-1.2,1.9-1.8,2.854-.479.76-.966,1.514-1.428,2.284a.775.775,0,0,0-.1.545c.113.388.528.457.9.172,1.086-.821,2.165-1.65,3.25-2.472.548-.416.755-.4,1.3.02.794.61,1.587,1.224,2.4,1.8a1.676,1.676,0,0,0,2.478-.526q1.146-1.825,2.294-3.649c.321-.512.643-1.025.95-1.546a.5.5,0,0,0-.055-.653.5.5,0,0,0-.654-.044,5.373,5.373,0,0,0-.44.311c-1.017.77-2.029,1.547-3.051,2.311a.719.719,0,0,1-1.032.005c-.824-.6-1.637-1.22-2.453-1.833A1.546,1.546,0,0,0,461.418-756.546Z" transform="translate(-452.074 764.745)"></path>\n                        </svg>\n                    </a>\n                </button>\n                <div class="omg-welcome-popup-bottom" style="color: ${welcomePopupWidgetSettings.desccription_text.color};"></div>\n            </div>\n        </div>\n    `;const n=()=>{t||localStorage.setItem(shopFbChat+"_omgfbc_welcome_popup",!0),OMGFBJquery(".omg-welcome-popup").addClass("ot-fb-hide")};OMGFBJquery(document).on("click",".omg-welcome-overlay",()=>{OMGFBJquery(".omg-welcome-popup").addClass("ot-fb-hide")}),OMGFBJquery(document).on("click",".omg-welcome-popup-button",()=>{trackingFrontWidgetCampaign("click_WelcomePopupWidget"),n()}),OMGFBJquery(document).on("click",".omg-welcome-popup-close",()=>{n()});const a=setInterval(()=>{OMGFBJquery(".omg-welcome-popup-title1")&&OMGFBJquery(".omg-welcome-popup-title1").length&&(OMGFBJquery(".omg-welcome-popup-title1").text("\n                "+(1==welcomePopupWidgetSettings.with_discount_code?welcomePopupWidgetSettings.top_heading.text_discount:welcomePopupWidgetSettings.top_heading.text)),OMGFBJquery(".omg-welcome-popup-title2").text("\n                "+(1==welcomePopupWidgetSettings.with_discount_code?welcomePopupWidgetSettings.heading_hightlight.text_discount.replace("{discount_value}",welcomePopupWidgetSettings.discount_code.value):welcomePopupWidgetSettings.heading_hightlight.text)),OMGFBJquery(".omg-welcome-popup-title3").text("\n                "+(1==welcomePopupWidgetSettings.with_discount_code?welcomePopupWidgetSettings.bottom_text.text_discount:welcomePopupWidgetSettings.bottom_text.text)),OMGFBJquery(".omg-welcome-popup-link").text("\n                "+(1==welcomePopupWidgetSettings.with_discount_code?welcomePopupWidgetSettings.button_heading.text_discount.replace("{discount_value}",welcomePopupWidgetSettings.discount_code.value):welcomePopupWidgetSettings.button_heading.text)),OMGFBJquery(".omg-welcome-popup-bottom").text("\n                "+(1==welcomePopupWidgetSettings.with_discount_code?welcomePopupWidgetSettings.desccription_text.text_discount:welcomePopupWidgetSettings.desccription_text.text)),clearInterval(a))});return o}function omgContentContactInfo(){const t=availableWorkingTime(contactInfoSettings,"contact"),e=availableWorkingTime(facebookChatSettings);if(t&&!Number(contactInfoSettings.working_time.status)){if(isNotAvailableWork)return window.OMGFBJquery(".ot-fb-logo").remove(),window.OMGFBJquery("#fb-root").remove(),window.OMGFBJquery(".facebook-chat-button-custom").remove(),"";if(window.OMGFBJquery(".ot-fb-logo, .facebook-chat-button-custom, .fb_dialog_content iframe").addClass("ot-fb-hide"),0==parseInt(facebookChatSettings.show_after))window.OMGFBJquery(".ot-fb-logo, .facebook-chat-button-custom, .fb_dialog_content iframe").removeClass("ot-fb-hide");else{const t=parseInt(facebookChatSettings.show_after)>5?1e3*parseInt(facebookChatSettings.show_after):5e3;window.OMGFBJquery("#fb-root").addClass("ot-fb-hide"),setTimeout((function(){window.OMGFBJquery("#fb-root").removeClass("ot-fb-hide"),window.OMGFBJquery(".ot-fb-logo, .facebook-chat-button-custom, .fb_dialog_content iframe").removeClass("ot-fb-hide")}),t)}return""}isAvailableWorkContact=!0,window.OMGFBJquery(document).on("click",".ot-fb-logo, .facebook-chat-button-custom",(function(){trackingFrontWidgetCampaign("click_getContactInfor"),window.OMGFBJquery(".omg-contact-info").hasClass("ot-fb-hide")?window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe").hasClass("fb_customer_chat_bounce_in_v2")?processFbBoxChat("not-available"):window.OMGFBJquery(".omg-contact-info").removeClass("ot-fb-hide"):OMGFBJquery(".omg-contact-info").addClass("ot-fb-hide")}));let o=`\n        <div class="omg-contact-info ot-fb-hide">\n            <div \n                class="omg-contact-info-content" \n            >\n                <div class="omg-contact-info-header">\n                    <div class="omg-contact-info-title1" style="color: ${contactInfoSettings.subject_settings.color};"></div>\n                    <div class="omg-contact-info-title2"></div>\n                </div>\n                <form class="omg-contact-info-form" id="omg-contact-info-form" onsubmit="sendContactInfo(event)">`;if(contactInfoSettings.form_builder.email&&Number(contactInfoSettings.form_builder.email.checked)&&(o+=`<div class="omg-contact-info-email">\n                        <svg fill="#458FFF" viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="m17.707 9.293-5-5a.999.999 0 1 0-1.414 1.414L14.586 9H3a1 1 0 1 0 0 2h11.586l-3.293 3.293a.999.999 0 1 0 1.414 1.414l5-5a.999.999 0 0 0 0-1.414z"></path></svg>\n                        <input type="email" pattern="^[^(\\.)][a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}" id="omg-info-email" placeholder="${contactInfoSettings.form_builder.email.field_text}" required="required"></div>`),contactInfoSettings.form_builder.phone&&Number(contactInfoSettings.form_builder.phone.checked)&&(o+=`<div class="omg-contact-info-phone">\n                        <svg fill="#458FFF" viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="m17.707 9.293-5-5a.999.999 0 1 0-1.414 1.414L14.586 9H3a1 1 0 1 0 0 2h11.586l-3.293 3.293a.999.999 0 1 0 1.414 1.414l5-5a.999.999 0 0 0 0-1.414z"></path></svg>\n                        <input type="number" id="omg-info-phone" placeholder="${contactInfoSettings.form_builder.phone.field_text}" required="required"></div>`),contactInfoSettings.form_builder.message&&Number(contactInfoSettings.form_builder.message.checked)&&(o+=`<div class="omg-contact-info-message">\n                        <svg fill="#458FFF" viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="m17.707 9.293-5-5a.999.999 0 1 0-1.414 1.414L14.586 9H3a1 1 0 1 0 0 2h11.586l-3.293 3.293a.999.999 0 1 0 1.414 1.414l5-5a.999.999 0 0 0 0-1.414z"></path></svg>\n                        <textarea type="text" id="omg-info-message" placeholder="${contactInfoSettings.form_builder.message.field_text}"></textarea></div>`),o+=`<button \n                        type="submit" \n                        class="omg-contact-info-button"\n                        style="color: ${contactInfoSettings.button_settings.text_color};background-color: ${contactInfoSettings.button_settings.background_color}"\n                    >\n                        Send\n                    </button>\n                </form>`,!facebookChatSettings.hasOwnProperty("enable_fb_chat_btn")||facebookChatSettings.enable_fb_chat_btn&&Number(facebookChatSettings.enable_fb_chat_btn)&&!e){const t='<button \n                            type="button" \n                            class="omg-contact-info-button-link" \n                            onclick="showFbChat()"\n                        >\n                            <span style="--c:1;">C</span>\n                            <span style="--c:2;">h</span>\n                            <span style="--c:3;">a</span>\n                            <span style="--c:4;">t</span>\n                            <span class="contact-chat-space"></span>\n                            <span style="--c:5;">w</span>\n                            <span style="--c:6;">i</span>\n                            <span style="--c:7;">t</span>\n                            <span style="--c:8;">h</span>\n                            <span class="contact-chat-space"></span>\n                            <span style="--c:9;">m</span>\n                            <span style="--c:10;">e</span>\n                            <span style="--c:11;">s</span>\n                            <span style="--c:12;">s</span>\n                            <span style="--c:13;">e</span>\n                            <span style="--c:14;">n</span>\n                            <span style="--c:15;">g</span>\n                            <span style="--c:16;">e</span>\n                            <span style="--c:17;">r</span>\n                        </button>';if(parseInt(facebookChatSettings.show_after)){const e=parseInt(facebookChatSettings.show_after)>5?1e3*parseInt(facebookChatSettings.show_after):5e3;setTimeout((function(){OMGFBJquery(".omg-contact-info-content").append(t)}),e)}else o+=""+t;o+="</div>\n            </div>"}else{getStyleCustom(),window.OMGFBJquery(window).resize(()=>{window.OMGFBJquery(window).width()!=windowWidth&&getStyleCustom(document.body.clientWidth)}),o+="</div></div>",o+=makeHtml("contact");const t=()=>{if(window.OMGFBJquery(".ot-fb-logo").length){facebookChatSettings.position>50?window.OMGFBJquery(".icon-text-content").addClass("icon-text-content-left"):window.OMGFBJquery(".icon-text-content").addClass("icon-text-content-right")}else setTimeout(()=>{t()},10)};t()}o+='<div class="omg-contact-notification-send"></div>',checkMobileShowContact();const n=setInterval(()=>{OMGFBJquery(".omg-contact-info-title1")&&OMGFBJquery(".omg-contact-info-title1").length&&(OMGFBJquery(".omg-contact-info-title1").text(contactInfoSettings.subject_settings.text),OMGFBJquery(".omg-contact-info-title2").text(""+contactInfoSettings.message),clearInterval(n))});return o}function sendContactInfo(t){t.preventDefault(),window.OMGFBJquery(".omg-contact-info-button").addClass("omg-loading-button");const e=document.getElementById("omg-info-email"),o=document.getElementById("omg-info-phone"),n=document.getElementById("omg-info-message");let a="",i="",s="";return e&&(a=e.value.trim()),o&&(i=o.value.trim()),n&&(s=n.value.trim()),new Promise(t=>{window.OMGFBJquery.ajax({url:window.rootLinkChat+"backend/storefront/facebook-message.php",data:{action:"saveContactInformation",shop:shopFbChat,contactInfo:{email:a,phone:i,message:s}},dataType:"JSON",type:"POST"}).done(()=>{setTimeout(()=>{window.OMGFBJquery(".omg-contact-info-button").removeClass("omg-loading-button"),OMGFBJquery(".omg-contact-info").addClass("ot-fb-hide"),e&&(e.value=""),o&&(o.value=""),n&&(n.value=""),window.OMGFBJquery(".omg-contact-notification-send").html("Your contact infomation is send successfully."),window.OMGFBJquery(".omg-contact-notification-send").animate({bottom:24},400),setTimeout(()=>{window.OMGFBJquery(".omg-contact-notification-send").animate({bottom:-60},400)},3e3)},300)}).fail(()=>{setTimeout(()=>{window.OMGFBJquery(".omg-contact-info-button").removeClass("omg-loading-button"),OMGFBJquery(".omg-contact-info").addClass("ot-fb-hide"),window.OMGFBJquery(".omg-contact-notification-send").html("Your contact infomation is send successfully."),window.OMGFBJquery(".omg-contact-notification-send").animate({bottom:24},400),setTimeout(()=>{window.OMGFBJquery(".omg-contact-notification-send").animate({bottom:-60},400)},3e3)},300)})})}function checkMobileShowContact(){setInterval(()=>{window.OMGFBJquery(".fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe").hasClass("fb_mpn_mobile_bounce_out")&&window.OMGFBJquery("#fb-root").removeClass("ot-fb-show").addClass("ot-fb-hide")},50)}function showFbChat(){window.OMGFBJquery(".OMG-FB-Chat > div[id]").length?(isClickLoadingCustom=!0,window.OMGFBJquery(".omg-contact-info-button-link").addClass("ot-fb-logo-loading")):(window.OMGFBJquery(".omg-contact-info-button-link").removeClass("ot-fb-logo-loading"),window.OMGFBJquery(".omg-contact-info").addClass("ot-fb-hide"),window.OMGFBJquery("#fb-root").removeClass("ot-fb-hide"),processFbBoxChat("",!0))}